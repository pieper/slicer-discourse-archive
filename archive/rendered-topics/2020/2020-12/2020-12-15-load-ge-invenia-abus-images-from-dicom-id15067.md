# Load GE Invenia ABUS images from DICOM

**Topic ID**: 15067
**Date**: 2020-12-15
**URL**: https://discourse.slicer.org/t/load-ge-invenia-abus-images-from-dicom/15067

---

## Post #1 by @Tesla2678 (2020-12-15 04:55 UTC)

<p>Hello there,</p>
<p>I have a question about how to make the slicer of Axial displays bend?</p>
<p><strong>Expected:</strong><br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/f/7/f79322c64b61958bf271fc14438cd215ac3dea08.jpeg" data-download-href="/uploads/short-url/zk9aGfg9ICCRzb8zlDvvZ4VRMh2.jpeg?dl=1" title="image" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/f/f79322c64b61958bf271fc14438cd215ac3dea08_2_690x150.jpeg" alt="image" data-base62-sha1="zk9aGfg9ICCRzb8zlDvvZ4VRMh2" width="690" height="150" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/f/f79322c64b61958bf271fc14438cd215ac3dea08_2_690x150.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/f/7/f79322c64b61958bf271fc14438cd215ac3dea08.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/f/7/f79322c64b61958bf271fc14438cd215ac3dea08.jpeg 2x" data-dominant-color="707687"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">979×213 52.1 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p><strong>Now:</strong><br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/2/d/2d413131dc6a99983fc78fc98c667382e6fbf9c1.jpeg" data-download-href="/uploads/short-url/6sl9U3sMuLeJHyyTKbd6dIBEtep.jpeg?dl=1" title="image" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/2/2d413131dc6a99983fc78fc98c667382e6fbf9c1_2_690x126.jpeg" alt="image" data-base62-sha1="6sl9U3sMuLeJHyyTKbd6dIBEtep" width="690" height="126" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/2/2d413131dc6a99983fc78fc98c667382e6fbf9c1_2_690x126.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/2/2d413131dc6a99983fc78fc98c667382e6fbf9c1_2_1035x189.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/2/d/2d413131dc6a99983fc78fc98c667382e6fbf9c1.jpeg 2x" data-dominant-color="454237"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">1044×191 63.9 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>

---

## Post #2 by @Tesla2678 (2020-12-18 07:09 UTC)

<p>Hello There,</p>
<p>I want to make the slicer showed in the “Red” widget curve.<br>
From<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/8/2/8214b843bac794024d97f40cecd09bf0051b5786.jpeg" data-download-href="/uploads/short-url/iyKsI7fttos4N91NYsRq0tpFVgq.jpeg?dl=1" title="image" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/8/8214b843bac794024d97f40cecd09bf0051b5786_2_690x126.jpeg" alt="image" data-base62-sha1="iyKsI7fttos4N91NYsRq0tpFVgq" width="690" height="126" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/8/8214b843bac794024d97f40cecd09bf0051b5786_2_690x126.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/8/8214b843bac794024d97f40cecd09bf0051b5786_2_1035x189.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/8/2/8214b843bac794024d97f40cecd09bf0051b5786.jpeg 2x" data-dominant-color="454237"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">1035×189 69.2 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div><br>
To<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/0/e/0eebbf9ca4a4c5f690a2725126fe3783b8aa576b.jpeg" data-download-href="/uploads/short-url/27ZLWSYZLIdW9xoO3bVGi8c0AQ3.jpeg?dl=1" title="image" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/0/0eebbf9ca4a4c5f690a2725126fe3783b8aa576b_2_690x150.jpeg" alt="image" data-base62-sha1="27ZLWSYZLIdW9xoO3bVGi8c0AQ3" width="690" height="150" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/0/0eebbf9ca4a4c5f690a2725126fe3783b8aa576b_2_690x150.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/0/e/0eebbf9ca4a4c5f690a2725126fe3783b8aa576b.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/0/e/0eebbf9ca4a4c5f690a2725126fe3783b8aa576b.jpeg 2x" data-dominant-color="707687"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">979×213 52.1 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div></p>
<p>In order to do this, I am trying to get slice data before it was rendered.<br>
I have no idea how to do this, I can only get the “renderWindow” from each “sliceView”.<br>
How can I access the slice data and process it?</p>
<blockquote>
<blockquote>
<blockquote>
<p>renWin=slicer.app.layoutManager().sliceWidget(“Red”).sliceView().renderWindow()</p>
</blockquote>
</blockquote>
</blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>render=renWin.GetRenderers().GetFirstRenderer()</p>
</blockquote>
</blockquote>
</blockquote>

---

## Post #3 by @lassoan (2020-12-19 06:17 UTC)

<p>What ultrasound system do you use (brand, model, transducer type and model)? How did you export the data from the ultrasound system and into what file format? How did you import the data into Slicer?</p>

---

## Post #4 by @Tesla2678 (2020-12-19 06:59 UTC)

<p>Hello Iassoan,</p>
<p>The Breast Image is Dicom data generated by the ABUS 2.0 system.<br>
All the useful information I can get is:</p>
<p><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/b/3/b3a78300107b03e31e50eba769a3ad2fd6076d02.png" alt="image" data-base62-sha1="pDimhAAzFVSfMzTLME04T4ItPcS" width="313" height="23"><br>
<img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/9/4/94a9026a6162adea8f219472cf46b9707c667843.png" alt="image" data-base62-sha1="ld6Lx5wWzzcTA7Rld4rUMLCHaJd" width="282" height="24"><br>
<img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/7/3/734164b0726f8510bef1a7ce19cb4b80d5d654f5.png" alt="image" data-base62-sha1="grB0QqiSoUlQnuMG3WIAzvJEllr" width="267" height="24"><br>
<img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/0/1/0191973ebb9591f4d5b11079637f4d16632e9283.png" alt="image" data-base62-sha1="dSp4dtJSAZl2CLOBoQrMTO29rB" width="335" height="38"></p>
<p>I’m not getting data from the ultrasound system. I import “.dcm” from a folder by “DICOMUtils.importDicom”</p>

---

## Post #5 by @lassoan (2020-12-19 07:08 UTC)

<p>If you can share an anonymized sample data set then I can have a look if it contains information to reconstruct a 3D volume. Right now what you get is just a stack of 2D frames.</p>

---

## Post #6 by @Tesla2678 (2020-12-19 07:31 UTC)

<p>Hello Iassoan,</p>
<p>Thank you very much~<br>
This is the link to my “.dcm” file.</p>
<aside class="onebox googledrive">
  <header class="source">
      <a href="https://drive.google.com/file/d/1FnHaV52VDyMBk4PoqhheQ2TjNe1fO03A/view?usp=sharing" target="_blank" rel="noopener nofollow ugc">drive.google.com</a>
  </header>
  <article class="onebox-body">
      <a href="https://drive.google.com/file/d/1FnHaV52VDyMBk4PoqhheQ2TjNe1fO03A/view?usp=sharing" target="_blank" rel="noopener nofollow ugc"><span class="googledocs-onebox-logo g-drive-logo"></span></a>



<h3><a href="https://drive.google.com/file/d/1FnHaV52VDyMBk4PoqhheQ2TjNe1fO03A/view?usp=sharing" target="_blank" rel="noopener nofollow ugc">test.dcm</a></h3>

<p>Google Drive file.</p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>


---

## Post #7 by @lassoan (2020-12-19 19:11 UTC)

<p>Thank you, this is very helpful. The image contains geometry information in private DICOM fields and fortunately GE provides meaningful description of these fields in their <a href="https://www.gehealthcare.com/-/jssmedia/4a68a30ac349457e9ad50089916a039b.pdf?la=en-us">DICOM conformance statement</a>. Since you know the radius of both the transducer and the trajectory curvature, you should be able to create a transform that warps the slices accordingly.</p>

---

## Post #8 by @Tesla2678 (2020-12-19 23:48 UTC)

<p>Hello Iassoan,</p>
<p>Yes, I can get the radius information. But I don’t know How to create a None linear transform and how to apply or warps it to the slices.<br>
Is this involved vtk, render or openGL?</p>
<p>Could you provide an example?<br>
Thank you very much!</p>

---

## Post #9 by @Tesla2678 (2020-12-21 05:09 UTC)

<p>Hello Iassoan,</p>
<p>Can you provide some useful function API to solve this issue?</p>

---

## Post #10 by @lassoan (2020-12-21 16:12 UTC)

<p>I’ve added a DICOM plugin to load GE ABUS volume with correct scan conversion. I’ll push it to the Slicer Preview Release today so it will be available on <a href="http://download.slicer.org">download.slicer.org</a> starting tomorrow.</p>

---

## Post #11 by @Tesla2678 (2020-12-21 23:19 UTC)

<p>Hello Iassoan,</p>
<p>That’s great, Thank you so much!!!</p>

---

## Post #12 by @lassoan (2020-12-21 23:41 UTC)

<p>The new <a href="https://github.com/Slicer/Slicer/commit/079cd6088a307f7b4a11241932036c23148847d5">GE Invenia ABUS import plugin</a> is in Slicer now. Using Slicer Preview Release of tomorrow you can load the ABUS image by double-clicking on the series.</p>
<p>Scan conversion is applied by placing the volume under a non-linear transform. This allows quick loading, visualization, segmentation, etc. but some operations, such as volume rendering are not supported for non-linearly transformed volumes, so probably the best is to harden the transform the volume (right-click in the transform column in Data module).</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/4/9/49fe6851cdae04544aacc33f88e766b612d441ea.png" data-download-href="/uploads/short-url/ayzV5UNL03fdo9Qot2iZ07OnjYe.png?dl=1" title="image"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/4/9/49fe6851cdae04544aacc33f88e766b612d441ea_2_690x466.png" alt="image" data-base62-sha1="ayzV5UNL03fdo9Qot2iZ07OnjYe" width="690" height="466" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/4/9/49fe6851cdae04544aacc33f88e766b612d441ea_2_690x466.png, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/4/9/49fe6851cdae04544aacc33f88e766b612d441ea_2_1035x699.png 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/4/9/49fe6851cdae04544aacc33f88e766b612d441ea_2_1380x932.png 2x" data-dominant-color="AAABA8"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">1596×1079 229 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div></p>
<p>I could not verify image directions (if the image is not mirrored along one axis), so it would be great if you could check this by comparing this to 3D views shown in the GE review workstation (you cannot tell if the image is flipped from 2D views, as you are free to flip the image in 2D views):</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/a/8/a85e4200433feb08822f6b74a4c41c693dc29c2f.jpeg" data-download-href="/uploads/short-url/o1sa0IeN4DjmzTqy4Q4b3Q4Flpl.jpeg?dl=1" title="image"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/a/a85e4200433feb08822f6b74a4c41c693dc29c2f_2_641x500.jpeg" alt="image" data-base62-sha1="o1sa0IeN4DjmzTqy4Q4b3Q4Flpl" width="641" height="500" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/a/a85e4200433feb08822f6b74a4c41c693dc29c2f_2_641x500.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/a/a85e4200433feb08822f6b74a4c41c693dc29c2f_2_961x750.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/a/a85e4200433feb08822f6b74a4c41c693dc29c2f_2_1282x1000.jpeg 2x" data-dominant-color="3E3E45"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">1562×1217 305 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div></p>

---

## Post #13 by @Tesla2678 (2020-12-22 00:07 UTC)

<p>Hello Iassoan,</p>
<p>You are such a wonderful person! I don’t know how to express my gratitude!<br>
Your selfless dedication made me feel the love and warmth of the world.<br>
I have to say that this is my most pleasant and grateful moment in 2020!</p>
<p>Sincere blessing~</p>

---

## Post #14 by @Tesla2678 (2020-12-26 05:12 UTC)

<p>Hello Iassoan,</p>
<p>I have applied your method to do the transform. However, I found the transform made the volume data changed instead of just mapping to “Axial Viewer”, the "Coronal Viewer is changed too, this will made the image distortion.</p>
<p>I found this by press the “shift key” while the cursor over the top of “Axial Viewer”, at this moment “Coronal Viewer”  is not what we expect. It means all slicers in the “Coronal Viewer” is distorted.<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/4/a/4a7aa18eaaaa577aab279a8590aba18560817e21.jpeg" data-download-href="/uploads/short-url/aCS4g4sSnw9CAzrEeQWMZYZKUtr.jpeg?dl=1" title="image" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/4/4a7aa18eaaaa577aab279a8590aba18560817e21_2_690x236.jpeg" alt="image" data-base62-sha1="aCS4g4sSnw9CAzrEeQWMZYZKUtr" width="690" height="236" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/4/4a7aa18eaaaa577aab279a8590aba18560817e21_2_690x236.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/4/4a7aa18eaaaa577aab279a8590aba18560817e21_2_1035x354.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/4/a/4a7aa18eaaaa577aab279a8590aba18560817e21.jpeg 2x" data-dominant-color="1B1B1A"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">1083×371 56.6 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>So Is there any idea to make the transform just work on the “Axial Viewer”?</p>
<p>Thank you very much~</p>

---

## Post #15 by @lassoan (2020-12-26 05:29 UTC)

<p>As you can see in <a href="http://amos3.aapm.org/abstracts/pdf/124-34983-405535-125834-1725308324.pdf">this presentation</a>, the GE Invenia has a concave curvilinear transducer, moving on a linear translational stage, so it produces a cylindrical volume.</p>
<p><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/a/1/a1c90530b25e7b138276cacd3e4773c78812bf4f.jpeg" alt="image" data-base62-sha1="n5dyvVH9EB1EyRR6VNUF13sKFNt" width="551" height="428"></p>
<p>If you enable volume rendering then maybe it explains better what you see in the green (“coronal”) slice viewer.</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/5/1/510127e015b229a08be95c73bcac8080a710c4c2.jpeg" data-download-href="/uploads/short-url/byB9nF7SCQ3uWwCxEcNd1N2DjJ8.jpeg?dl=1" title="image"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/5/510127e015b229a08be95c73bcac8080a710c4c2_2_578x500.jpeg" alt="image" data-base62-sha1="byB9nF7SCQ3uWwCxEcNd1N2DjJ8" width="578" height="500" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/5/510127e015b229a08be95c73bcac8080a710c4c2_2_578x500.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/5/510127e015b229a08be95c73bcac8080a710c4c2_2_867x750.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/5/510127e015b229a08be95c73bcac8080a710c4c2_2_1156x1000.jpeg 2x" data-dominant-color="58515E"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">1411×1220 273 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>

---

## Post #16 by @Tesla2678 (2020-12-27 12:02 UTC)

<p>Hello Iassoan,</p>
<p>I don’t know more about this problem. but I personally think the original data is true, however, the curve is just happened on “Axial Viewer”.</p>
<p>I will check this problem later.</p>
<p>Thank you for your help~</p>

---

## Post #17 by @mariuszmaximus (2020-12-28 18:08 UTC)

<p>Can you post more DCM examples?</p>

---

## Post #18 by @Lee_Ho_Jun (2024-02-21 06:01 UTC)

<p>Hello.</p>
<p>I tried to load GE ABUS images however it didn’t work as beautifully as in your example<br>
Can you take a look?<br>
I append a a sample data.</p>
<aside class="onebox googledrive" data-onebox-src="https://drive.google.com/file/d/1CoV744IAzsR6jzo-CgnJ7EUMgQQLLOmL/view?usp=drive_link">
  <header class="source">

      <a href="https://drive.google.com/file/d/1CoV744IAzsR6jzo-CgnJ7EUMgQQLLOmL/view?usp=drive_link" target="_blank" rel="noopener nofollow ugc">drive.google.com</a>
  </header>

  <article class="onebox-body">
      <a href="https://drive.google.com/file/d/1CoV744IAzsR6jzo-CgnJ7EUMgQQLLOmL/view?usp=drive_link" target="_blank" rel="noopener nofollow ugc"><span class="googledocs-onebox-logo g-drive-logo"></span></a>



<h3><a href="https://drive.google.com/file/d/1CoV744IAzsR6jzo-CgnJ7EUMgQQLLOmL/view?usp=drive_link" target="_blank" rel="noopener nofollow ugc">1.zip</a></h3>

<p>Google Drive file.</p>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Also, it would be nice if there is a way to link different views based on the nipple location as the common location.</p>

---
