---
topic_id: 10313
title: "Create Coordinate System Using Model Node"
date: 2020-02-17
url: https://discourse.slicer.org/t/10313
---

# Create coordinate system using model node

**Topic ID**: 10313
**Date**: 2020-02-17
**URL**: https://discourse.slicer.org/t/create-coordinate-system-using-model-node/10313

---

## Post #1 by @ZiyunLiang (2020-02-17 17:03 UTC)

<p>Hi, everyone, I’m trying to create a coordinate system which can be shown and transformed in slice view as shown in the picture below.<br>
<img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/d/9/d9b89b9a09fd004113f1931c57731896f51d4112.png" alt="屏幕快照 2020-02-18 上午12.00.08" data-base62-sha1="v4389xVYv9xOqKvfj2pmxAQ1wzw" width="174" height="164"><br>
I tried using CreateModels from SlicerIGT, however, there is only one arrow head in the coordinate system. I’m wondering if the axes generated by show orientation marker in view controller can be transformed. Can this be achieved by command in python interactor?<br>
I also tried to create a Model node that uses arrows as coordinate system and use transform module to move the coordinate system, but I’m not sure how to do this.<br>
Does anyone know how to do this?<br>
Thanks!</p>

---

## Post #2 by @lassoan (2020-02-17 18:54 UTC)

<p>CreateModels puts an arrowhead on the first axis only to make the axes clearly distinguishable. If you added arrowheads on all axes then you would need to add alternative ways (colors, labels, etc.) to distinguish the axes.</p>
<p>Setting up a 2D/3D axis actor with text labels that are scaled to the window size, face the camera and properly occluded by the view content would be very hard (it will be easy to do when we add arrowheads to markups line nodes).</p>
<p>As an approximate solution, you can draw a coordinate system model (with arrowheads and labels created as 3D objects) in your favorite 3D modeling software, save it as STL, OBJ, or PLY, and load that into Slicer.</p>

---

## Post #3 by @ZiyunLiang (2020-03-02 11:41 UTC)

<p>Hi lassoan,<br>
Thanks for answering, I followed your advice and import a OBJ model to my Slicer, however, when I try to project my model to 2D view, I used SetSliceDisplayModeToProjection() function but it didn’t work. And there is no error or warning. When I used this function before, it worked perfectly, I used it the same way as before, don’t know why it didn’t work this time and do you have any idea how to solve it? Thanks!</p>

---

## Post #4 by @timeanddoctor (2020-03-02 11:54 UTC)

<p>Can you upload the code and which version of the slicer?</p>

---

## Post #5 by @ZiyunLiang (2020-03-02 12:00 UTC)

<p>Sure, I used Slicer4.10.0, code:<br>
upload OBJ:<br>
slicer.util.loadModel(u’/Users/sissi/Desktop/coordinate.obj’)<br>
coordinate = slicer.util.getNode(‘coordinate’)<br>
Then to project it:<br>
model = slicer.util.getNode(‘coordinate’)<br>
model.GetDisplayNode().SetColor(0, 1, 0)<br>
model.GetDisplayNode().SetSliceDisplayModeToProjection()<br>
Thanks</p>

---

## Post #6 by @timeanddoctor (2020-03-02 13:06 UTC)

<p>Ok, you can active the slice visible with this code in the last of your code.</p>
<p>model.GetDisplayNode().SetSliceIntersectionVisibility(1)</p>

---

## Post #7 by @ZiyunLiang (2020-03-02 13:23 UTC)

<p>Hi, thanks for your quick reply. I put that at the end of my code and it still doesn’t work. However, I tried again on the Coordinate system ‘Slicer IGT createmodels’ created and that worked fine. Don’t know if it’s my model that caused this problem.  Can’t figure out what’s wrong.</p>

---

## Post #8 by @timeanddoctor (2020-03-02 13:41 UTC)

<p>ok， could you uploard the obj model. So, we can test this problem.</p>

---

## Post #9 by @ZiyunLiang (2020-03-02 14:09 UTC)

<p>Thanks! I uploaded it in google drive.<br>
<a href="https://drive.google.com/file/d/1Cii9YdzSsQu9rv-lVHvCXrVk9DyRXyV6/view" class="onebox" target="_blank" rel="nofollow noopener">https://drive.google.com/file/d/1Cii9YdzSsQu9rv-lVHvCXrVk9DyRXyV6/view</a></p>

---

## Post #10 by @timeanddoctor (2020-03-02 16:09 UTC)

<p>sorry, the google was barried for me.</p>

---

## Post #11 by @ZiyunLiang (2020-03-03 02:09 UTC)

<p>How about this link?<br>
<aside class="onebox googledrive">
  <header class="source">
      <a href="https://drive.google.com/file/d/1Cii9YdzSsQu9rv-lVHvCXrVk9DyRXyV6/view?usp=drive_open" target="_blank" rel="nofollow noopener">drive.google.com</a>
  </header>
  <article class="onebox-body">
      <a href="https://drive.google.com/file/d/1Cii9YdzSsQu9rv-lVHvCXrVk9DyRXyV6/view?usp=drive_open" target="_blank" rel="nofollow noopener"><span class="googledocs-onebox-logo g-drive-logo"></span></a>



<h3><a href="https://drive.google.com/file/d/1Cii9YdzSsQu9rv-lVHvCXrVk9DyRXyV6/view?usp=drive_open" target="_blank" rel="nofollow noopener">coordinate.obj</a></h3>

<p>Google Drive file.</p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>
Thanks</p>

---

## Post #12 by @lassoan (2020-03-03 02:31 UTC)

<p>VTK reports that the file is corrupted: “Point array diffuse_0_0_0_255 with 2 components, only has 5878 tuples but there are 5882 points”. The issue seems to be the 4 extra vertices at the end of the file:</p>
<pre><code class="lang-auto">usemtl diffuse_0_0_0_255
v 0 20 0
p 5879
usemtl diffuse_0_0_0_255
v 0 0 -20
p 5880
usemtl diffuse_0_0_0_255
v 20 0 0
p 5881
usemtl diffuse_0_0_0_255
v 0 0 0
p 5882
</code></pre>
<p>If you remove them then the file loads correctly and slice projection shows up, too.</p>

---

## Post #13 by @ZiyunLiang (2020-03-03 03:38 UTC)

<p>Thanks for your help! It worked!</p>

---
