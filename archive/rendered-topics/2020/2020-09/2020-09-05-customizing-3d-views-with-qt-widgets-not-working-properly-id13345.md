# Customizing 3d views with qt widgets not working properly

**Topic ID**: 13345
**Date**: 2020-09-05
**URL**: https://discourse.slicer.org/t/customizing-3d-views-with-qt-widgets-not-working-properly/13345

---

## Post #1 by @Chintha_Siva_Prasad (2020-09-05 05:57 UTC)

<p>I have a layout in which there are three 3d views.I want to put a button(load DICOM) in the topbar(barLayout) of the first threeDView.But when I am running my code many time the button is coming in second or third view node too.Why is this happening?<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/9/7/975b6acea3d4171d8a8b684f7be961f8ee91cc9e.png" data-download-href="/uploads/short-url/lAXXqxT0MZ6z1t3hYvkKY0rAziC.png?dl=1" title="Screenshot from 2020-09-05 11-19-18" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/9/975b6acea3d4171d8a8b684f7be961f8ee91cc9e_2_690x75.png" alt="Screenshot from 2020-09-05 11-19-18" data-base62-sha1="lAXXqxT0MZ6z1t3hYvkKY0rAziC" width="690" height="75" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/9/975b6acea3d4171d8a8b684f7be961f8ee91cc9e_2_690x75.png, https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/9/7/975b6acea3d4171d8a8b684f7be961f8ee91cc9e.png 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/9/7/975b6acea3d4171d8a8b684f7be961f8ee91cc9e.png 2x" data-dominant-color="E3E4E3"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">Screenshot from 2020-09-05 11-19-18</span><span class="informations">859×94 18.3 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div></p>
<p>This is my code.But the button is coming in the other windows when close the gui and run again.</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/c/3/c3086eaf74a34900a9f507ecf315801157d55a16.png" data-download-href="/uploads/short-url/rPlaIZIB6tk2vtI4TySNyEj6oUC.png?dl=1" title="Screenshot from 2020-09-05 11-19-31" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/c/3/c3086eaf74a34900a9f507ecf315801157d55a16_2_690x333.png" alt="Screenshot from 2020-09-05 11-19-31" data-base62-sha1="rPlaIZIB6tk2vtI4TySNyEj6oUC" width="690" height="333" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/c/3/c3086eaf74a34900a9f507ecf315801157d55a16_2_690x333.png, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/c/3/c3086eaf74a34900a9f507ecf315801157d55a16_2_1035x499.png 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/c/3/c3086eaf74a34900a9f507ecf315801157d55a16.png 2x" data-dominant-color="666787"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">Screenshot from 2020-09-05 11-19-31</span><span class="informations">1296×627 21.6 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div></p>
<p>Is this because I not clearing the instances, the slicer is giving me some warnings.<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/1/7/17bd2fd94c5950d72e969981bf73e65801fb1dc7.png" data-download-href="/uploads/short-url/3o0joNTEQVfs2USohHfGt4Z6ZTx.png?dl=1" title="Screenshot from 2020-09-05 11-20-36" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/1/7/17bd2fd94c5950d72e969981bf73e65801fb1dc7_2_690x387.png" alt="Screenshot from 2020-09-05 11-20-36" data-base62-sha1="3o0joNTEQVfs2USohHfGt4Z6ZTx" width="690" height="387" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/1/7/17bd2fd94c5950d72e969981bf73e65801fb1dc7_2_690x387.png, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/1/7/17bd2fd94c5950d72e969981bf73e65801fb1dc7_2_1035x580.png 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/1/7/17bd2fd94c5950d72e969981bf73e65801fb1dc7.png 2x" data-dominant-color="37162D"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">Screenshot from 2020-09-05 11-20-36</span><span class="informations">1366×768 202 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div></p>

---

## Post #2 by @lassoan (2020-09-05 22:39 UTC)

<p><code>theeDWidget(0)</code> may refer to any of the views. Check the associated view node to determine which view are you actually modifying.</p>
<p>The “Class … has … instance still around” means you have a memory leak in your code: you created a VTK object, added references to it, and have not removed all references before exiting the application. Check out <a href="https://www.slicer.org/wiki/Documentation/Nightly/Developers/Tutorials/MemoryManagement">this page</a> for more details. This is not related to which view controller widgets the extra button shows up at.</p>

---
