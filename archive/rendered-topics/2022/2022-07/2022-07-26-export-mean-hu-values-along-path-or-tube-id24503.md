# Export mean HU values along path (or tube)

**Topic ID**: 24503
**Date**: 2022-07-26
**URL**: https://discourse.slicer.org/t/export-mean-hu-values-along-path-or-tube/24503

---

## Post #1 by @Pepper (2022-07-26 15:33 UTC)

<p>Hello all,</p>
<p>I have a spiral structure, difficult to segment because of its shape and the gradient of density in it.</p>
<p>I would like to analyse this increasing gradient of density, and export the HU values all along the spiral structure.</p>
<p>My idea was to create a segment using the “Draw tube” function in Segment Editor.</p>
<p><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/6/f/6fdd727cec3a2f0d2674c388ab7b6ddf59433da0.jpeg" alt="image" data-base62-sha1="fXBrKWTPlS6XoGCZ7B0xrobrwt2" width="518" height="454"></p>
<p>My goal is now to get the mean HU values at 20-30 points along this tube.</p>
<p>I was not able to do it with SegmentGeometry, as I don’t want the mean HU values slice by slice but rather along the path that I draw with the tube.</p>
<p>I hope this is clear!</p>
<p>Thank you for your help.</p>
<p>Operating system: Monterey 12.2.1<br>
Slicer version: 5.0.3</p>

---

## Post #2 by @mikebind (2022-07-26 17:23 UTC)

<p>Here is how I would approach this problem:</p>
<ul>
<li>Segment the structure of interest</li>
<li>Extract the centerline of the structure using “Extract Centerline” extension’s “Centerline curve” output</li>
<li>Use Curved Planar Reformat to generate a new volume of slices perpendicular to the centerline curve.</li>
<li>Gather and average HU values in the reformatted volume</li>
</ul>
<p>This last step could be done using a cylindrical tube down the center of the reformatted volume and the Segment Geometry module, or could be done by transforming your initial segmentation into the reformatted space (using the transform generated by the Curved Planar Reformat module) and using that segment in Segment Geometry (you might need to harden the transform and change the segmentation geometry to match the reformatted volume to get this to work correctly).</p>

---
