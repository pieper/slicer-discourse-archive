---
topic_id: 22189
title: "Markups Line Discontinuities"
date: 2022-02-26
url: https://discourse.slicer.org/t/22189
---

# Markups Line discontinuities

**Topic ID**: 22189
**Date**: 2022-02-26
**URL**: https://discourse.slicer.org/t/markups-line-discontinuities/22189

---

## Post #1 by @jamesobutler (2022-02-26 00:45 UTC)

<p>I have noticed for awhile these weird discontinuities in the markups line object. Specifically when the line is completely horizontal or vertical it can appear that the 2 control points that make up the line are not connected which is unexpected. This appears to be some weird display issue.</p>
<p></p><div class="video-container">
    <video width="100%" height="100%" preload="metadata" controls="">
      <source src="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/1/d/1d264842521644eae575998e6689003b97e96114.mp4">
      <a href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/1/d/1d264842521644eae575998e6689003b97e96114.mp4" rel="noopener nofollow ugc">https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/1/d/1d264842521644eae575998e6689003b97e96114.mp4</a>
    </source></video>
  </div><p></p>

---

## Post #2 by @jamesobutler (2022-02-28 15:48 UTC)

<p>Since lines are used in other markups types it can be weirdly rendered in various situations. Not sure if this is some inherent limitation in VTK or what.<br>
<img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/7/7/770ab656bc956bb4e9f60020e4ed9b8dcc233b83.jpeg" alt="image" data-base62-sha1="gZ5LJtXporwcyIQp00HjEOvOq67" width="683" height="443"></p>

---

## Post #3 by @lassoan (2022-03-01 19:46 UTC)

<p>All markups lines are represented as tubes (generated by vtkTubeFilter) and it is up to the OpenGL driver to render these polygons. When the size gets comparable or smaller to the screen pixel size then rasterization becomes impossible, so the driver does what it can, which in this case is a kind of dashed/partial line. The exact pattern depends on the angle and position of the line.</p>
<p>It should be possible to detect when the requested thickness becomes so small that it the line cannot be reliable rendered and then hide the line completely (or do not use the requested thickness but the smallest feasible thickness), but I’m not sure it would help users much.</p>
<p>Another approach could be to switch to rendering the line with a 2D actor when the line is too thin. But it could be significant workload to implement and maintain a secondary pipeline and switch between them. Such complexity and workload may not be justified to address an edge case.</p>
<p>Instead of focusing on improving rendering of thin lines, it would be more important to improve appearance of lines in the normal thickness range, using anti-aliasing. As a side product of anti-aliasing, appearance of thin lines could greatly improve, too.</p>

---

## Post #4 by @nathanbmnt (2022-03-01 20:30 UTC)

<p>The default line thickness of 20% is just too small to render properly, at least on a 1080p screen. Could we change it to 30%? I’m not seeing any issues at that size.<br>
<img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/9/f/9f7e450f61aeb0b6963f223270fd6d8de9597d5c.jpeg" alt="image" data-base62-sha1="mKWrRYW5zUUlLL75pxaQkEyQDSI" width="325" height="388"></p>

---

## Post #5 by @lassoan (2022-03-01 21:51 UTC)

<p>Line thickness = 20% of glyph size is probably fine, the issue is that the default glyph size is not computed consistently across different screen resolutions - see <a href="https://github.com/Slicer/Slicer/issues/5180" class="inline-onebox">Markups Display Size · Issue #5180 · Slicer/Slicer · GitHub</a>. I’ll try to find out what causes the glyph size inconsistency and then we should be able to fix the too small default glyph size.</p>

---
