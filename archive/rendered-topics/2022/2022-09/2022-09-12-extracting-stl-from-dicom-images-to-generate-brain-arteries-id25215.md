# Extracting STL from DICOM images to generate Brain Arteries geometry

**Topic ID**: 25215
**Date**: 2022-09-12
**URL**: https://discourse.slicer.org/t/extracting-stl-from-dicom-images-to-generate-brain-arteries-geometry/25215

---

## Post #1 by @Behzad_Vahedi (2022-09-12 11:45 UTC)

<p>Hi<br>
My project is about computational fluid dynamic modeling of blood flow in an intracranial aneurysms. Can I extract the geometry from CT/Angio DICOM images in STL format in 3D Slicer?<br>
And if the answer is yes, is the process of extracting looks like the other softwares like SimVascular?<br>
Does the 3Dslicer employ machine learning to automatically generate the geometry or not?<br>
Thank you in advance for your responses.</p>

---

## Post #2 by @tsinesh (2022-09-15 16:48 UTC)

<p>Yes, you can extract the cerebral vessels using plugin vesselness filter and local threshold and export the model in stl.</p>

---

## Post #3 by @Behzad_Vahedi (2022-09-19 16:32 UTC)

<p>Thank you for your reply. Do you have any idea how can I find a tutorial related to my project? I have explored the instructions and tutorials, but I have found nothing useful so far.</p>

---

## Post #4 by @tsinesh (2022-09-21 02:57 UTC)

<p>I send you a private message.</p>

---

## Post #5 by @Marcin_Magdziarz (2023-01-23 08:48 UTC)

<p>Dear tsinesh,<br>
could you also send me some references to the problem above?<br>
I would really appreciate this.<br>
Best Regards,<br>
Marcin</p>

---

## Post #6 by @tsinesh (2023-01-23 22:32 UTC)

<p><strong>Step-by-step manual for Segmentation of cerebral arteries in 3D Slicer</strong></p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/2/7/27627b466343db1889c39e94f7ebf50d4ac5f233.png" data-download-href="/uploads/short-url/5CpCg3oMlgLRaOtMC9hozpjG92j.png?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/2/7/27627b466343db1889c39e94f7ebf50d4ac5f233_2_690x388.png" alt="grafik" data-base62-sha1="5CpCg3oMlgLRaOtMC9hozpjG92j" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/2/7/27627b466343db1889c39e94f7ebf50d4ac5f233_2_690x388.png, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/2/7/27627b466343db1889c39e94f7ebf50d4ac5f233_2_1035x582.png 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/2/7/27627b466343db1889c39e94f7ebf50d4ac5f233_2_1380x776.png 2x" data-dominant-color="A5A6BF"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 140 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>Install modul SegmentEditorExtraEffects.<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/b/7/b73f3ab53635e38471f6d602fc60a4fe9e40128a.png" data-download-href="/uploads/short-url/q94Qpl4l5H7EUfTeVLjaQnnPNwe.png?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/b/7/b73f3ab53635e38471f6d602fc60a4fe9e40128a_2_690x388.png" alt="grafik" data-base62-sha1="q94Qpl4l5H7EUfTeVLjaQnnPNwe" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/b/7/b73f3ab53635e38471f6d602fc60a4fe9e40128a_2_690x388.png, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/b/7/b73f3ab53635e38471f6d602fc60a4fe9e40128a_2_1035x582.png 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/b/7/b73f3ab53635e38471f6d602fc60a4fe9e40128a_2_1380x776.png 2x" data-dominant-color="A4A6BF"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 147 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/6/2/624fba5c0d50e41408fa4bad845557e58e33bc56.png" data-download-href="/uploads/short-url/e1HBJ1byqJmwdSqUgFqSc7yEMvk.png?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/6/2/624fba5c0d50e41408fa4bad845557e58e33bc56_2_690x388.png" alt="grafik" data-base62-sha1="e1HBJ1byqJmwdSqUgFqSc7yEMvk" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/6/2/624fba5c0d50e41408fa4bad845557e58e33bc56_2_690x388.png, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/6/2/624fba5c0d50e41408fa4bad845557e58e33bc56_2_1035x582.png 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/6/2/624fba5c0d50e41408fa4bad845557e58e33bc56_2_1380x776.png 2x" data-dominant-color="FDFDFD"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 88.8 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>Restart 3d Slicer and start segmenting.<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/b/a/ba60a1b2a98621f0990ded6c0b67702c99b095bb.png" data-download-href="/uploads/short-url/qALQbXyhVQVXs0jwDScbP6njYin.png?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/b/a/ba60a1b2a98621f0990ded6c0b67702c99b095bb_2_690x388.png" alt="grafik" data-base62-sha1="qALQbXyhVQVXs0jwDScbP6njYin" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/b/a/ba60a1b2a98621f0990ded6c0b67702c99b095bb_2_690x388.png, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/b/a/ba60a1b2a98621f0990ded6c0b67702c99b095bb_2_1035x582.png 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/b/a/ba60a1b2a98621f0990ded6c0b67702c99b095bb_2_1380x776.png 2x" data-dominant-color="A5A7BF"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 143 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>Open a MRI file (e.g. Strg+o), “choose File to add” for 1 file.<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/e/6/e6d556ce43821ac9471e2ce29b1cccb617597459.png" data-download-href="/uploads/short-url/wW2TuHHFFr17ubZOTEjLHw1d4KZ.png?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/e/6/e6d556ce43821ac9471e2ce29b1cccb617597459_2_690x388.png" alt="grafik" data-base62-sha1="wW2TuHHFFr17ubZOTEjLHw1d4KZ" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/e/6/e6d556ce43821ac9471e2ce29b1cccb617597459_2_690x388.png, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/e/6/e6d556ce43821ac9471e2ce29b1cccb617597459_2_1035x582.png 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/e/6/e6d556ce43821ac9471e2ce29b1cccb617597459_2_1380x776.png 2x" data-dominant-color="B8B8C7"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 164 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/7/b/7b0a32ce0d925a89bec43f880110b8df25374491.png" data-download-href="/uploads/short-url/hyszTvQwHF99C8SG6dbhY6D2JEd.png?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/7/b/7b0a32ce0d925a89bec43f880110b8df25374491_2_690x388.png" alt="grafik" data-base62-sha1="hyszTvQwHF99C8SG6dbhY6D2JEd" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/7/b/7b0a32ce0d925a89bec43f880110b8df25374491_2_690x388.png, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/7/b/7b0a32ce0d925a89bec43f880110b8df25374491_2_1035x582.png 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/7/b/7b0a32ce0d925a89bec43f880110b8df25374491_2_1380x776.png 2x" data-dominant-color="B8B8C6"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 173 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/5/e/5e239904fb2a39e638aad2528052eaf151458cfb.png" data-download-href="/uploads/short-url/dqN9iE18FjrFlS7YbHR1sp95rUT.png?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/5/e/5e239904fb2a39e638aad2528052eaf151458cfb_2_690x388.png" alt="grafik" data-base62-sha1="dqN9iE18FjrFlS7YbHR1sp95rUT" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/5/e/5e239904fb2a39e638aad2528052eaf151458cfb_2_690x388.png, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/5/e/5e239904fb2a39e638aad2528052eaf151458cfb_2_1035x582.png 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/5/e/5e239904fb2a39e638aad2528052eaf151458cfb_2_1380x776.png 2x" data-dominant-color="868686"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 381 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/a/3/a3ec1ba3e3fcd87d62cc2363010f15a734cdc82c.jpeg" data-download-href="/uploads/short-url/no7GzzR2aJuh6Y9S0tmbiLfy98o.jpeg?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/a/3/a3ec1ba3e3fcd87d62cc2363010f15a734cdc82c_2_690x388.jpeg" alt="grafik" data-base62-sha1="no7GzzR2aJuh6Y9S0tmbiLfy98o" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/a/3/a3ec1ba3e3fcd87d62cc2363010f15a734cdc82c_2_690x388.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/a/3/a3ec1ba3e3fcd87d62cc2363010f15a734cdc82c_2_1035x582.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/a/3/a3ec1ba3e3fcd87d62cc2363010f15a734cdc82c_2_1380x776.jpeg 2x" data-dominant-color="656464"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 241 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>If the MRI has a lot of inhomogenities use the “N4ITK MRI Bias correction” module (Ctrl+F for switch to modul search)<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/0/4/04be6937d42a4eaf944a6a903c79b49c07a062fb.png" data-download-href="/uploads/short-url/FXRxCxPSXoPuitzPmpp2U1KQv9.png?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/0/4/04be6937d42a4eaf944a6a903c79b49c07a062fb_2_690x388.png" alt="grafik" data-base62-sha1="FXRxCxPSXoPuitzPmpp2U1KQv9" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/0/4/04be6937d42a4eaf944a6a903c79b49c07a062fb_2_690x388.png, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/0/4/04be6937d42a4eaf944a6a903c79b49c07a062fb_2_1035x582.png 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/0/4/04be6937d42a4eaf944a6a903c79b49c07a062fb_2_1380x776.png 2x" data-dominant-color="A2A2A9"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 217 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>Select a input and output image, change settings in “advanced N4 parameter”, apply<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/c/6/c62a7b7788ad68b5d8d5d15e464f003f877f6d53.jpeg" data-download-href="/uploads/short-url/sh3yxgwtcYprwuz9gYVbrf9ijUn.jpeg?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/c/6/c62a7b7788ad68b5d8d5d15e464f003f877f6d53_2_690x388.jpeg" alt="grafik" data-base62-sha1="sh3yxgwtcYprwuz9gYVbrf9ijUn" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/c/6/c62a7b7788ad68b5d8d5d15e464f003f877f6d53_2_690x388.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/c/6/c62a7b7788ad68b5d8d5d15e464f003f877f6d53_2_1035x582.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/c/6/c62a7b7788ad68b5d8d5d15e464f003f877f6d53_2_1380x776.jpeg 2x" data-dominant-color="A1A1AF"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 156 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>I like to use also the LaplacianSharpeningImageFilter in the Modul “simple filter”<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/0/3/036fa0d14c9540f4a9cd31491bd7c0bd9ce5238c.jpeg" data-download-href="/uploads/short-url/uoAS4OFKBPZn1StXZLiL5QtEa8.jpeg?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/0/3/036fa0d14c9540f4a9cd31491bd7c0bd9ce5238c_2_690x388.jpeg" alt="grafik" data-base62-sha1="uoAS4OFKBPZn1StXZLiL5QtEa8" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/0/3/036fa0d14c9540f4a9cd31491bd7c0bd9ce5238c_2_690x388.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/0/3/036fa0d14c9540f4a9cd31491bd7c0bd9ce5238c_2_1035x582.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/0/3/036fa0d14c9540f4a9cd31491bd7c0bd9ce5238c_2_1380x776.jpeg 2x" data-dominant-color="7E7D7C"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 123 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p><strong>Extra detailed segmentation</strong>: If you really like to segment very small arteries, you should consider the use of module “vesselness filter” (you must add a “seeding point” inside an artery). Preview, adapt settings and Start. Later you can use “local threshold” method on this vesselnessFilterd image (details below) and add (using “logical operators”) the resulted segmentation to the normal segmentation (mean without vesselness filtered).<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/3/9/392cfbea6608fed0837f3f6adeb9b88076f43cf3.jpeg" data-download-href="/uploads/short-url/89NAO8yy3ee3G3TWm5cpxazLqhR.jpeg?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/3/9/392cfbea6608fed0837f3f6adeb9b88076f43cf3_2_690x388.jpeg" alt="grafik" data-base62-sha1="89NAO8yy3ee3G3TWm5cpxazLqhR" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/3/9/392cfbea6608fed0837f3f6adeb9b88076f43cf3_2_690x388.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/3/9/392cfbea6608fed0837f3f6adeb9b88076f43cf3_2_1035x582.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/3/9/392cfbea6608fed0837f3f6adeb9b88076f43cf3_2_1380x776.jpeg 2x" data-dominant-color="A3A3B0"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 132 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>In the segment editor: “Add” a segment<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/a/d/adf3d8c792cc2f8b900fc53bb3a70af9185c5cae.jpeg" data-download-href="/uploads/short-url/oOR2Ar6yP4TynXDh0Xcyzf6TGai.jpeg?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/a/d/adf3d8c792cc2f8b900fc53bb3a70af9185c5cae_2_690x388.jpeg" alt="grafik" data-base62-sha1="oOR2Ar6yP4TynXDh0Xcyzf6TGai" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/a/d/adf3d8c792cc2f8b900fc53bb3a70af9185c5cae_2_690x388.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/a/d/adf3d8c792cc2f8b900fc53bb3a70af9185c5cae_2_1035x582.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/a/d/adf3d8c792cc2f8b900fc53bb3a70af9185c5cae_2_1380x776.jpeg 2x" data-dominant-color="666565"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 227 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>Use method „Local threshold“<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/f/7/f70ee55ffe8502c004544af26be3ddba3777a2f9.jpeg" data-download-href="/uploads/short-url/zfzQGliC62twqPl8o8JJgwLrZTr.jpeg?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/f/7/f70ee55ffe8502c004544af26be3ddba3777a2f9_2_690x388.jpeg" alt="grafik" data-base62-sha1="zfzQGliC62twqPl8o8JJgwLrZTr" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/f/7/f70ee55ffe8502c004544af26be3ddba3777a2f9_2_690x388.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/f/7/f70ee55ffe8502c004544af26be3ddba3777a2f9_2_1035x582.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/f/7/f70ee55ffe8502c004544af26be3ddba3777a2f9_2_1380x776.jpeg 2x" data-dominant-color="727171"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 137 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>Change slider (blue arrow) to adapt intensity range of selected voxel (advice: low as possible, only few voxels should be outside the arteries), view the result in all slices (yellow arrow: go to all slices)<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/0/4/04e9fb400a6061c076517958885b947530e39ec4.jpeg" data-download-href="/uploads/short-url/Htdc4q7CVxkMTrYzfLnqu2Kric.jpeg?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/0/4/04e9fb400a6061c076517958885b947530e39ec4_2_690x388.jpeg" alt="grafik" data-base62-sha1="Htdc4q7CVxkMTrYzfLnqu2Kric" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/0/4/04e9fb400a6061c076517958885b947530e39ec4_2_690x388.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/0/4/04e9fb400a6061c076517958885b947530e39ec4_2_1035x582.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/0/4/04e9fb400a6061c076517958885b947530e39ec4_2_1380x776.jpeg 2x" data-dominant-color="707070"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 158 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>Minimum diameter: e.g. 0.5 mm (see blue arrow)<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/d/e/deac7b54ad693d12506d713c84b5128c3f8da3c7.jpeg" data-download-href="/uploads/short-url/vLRxpyQZKBCmXP65y96wjyKsN6f.jpeg?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/d/e/deac7b54ad693d12506d713c84b5128c3f8da3c7_2_690x388.jpeg" alt="grafik" data-base62-sha1="vLRxpyQZKBCmXP65y96wjyKsN6f" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/d/e/deac7b54ad693d12506d713c84b5128c3f8da3c7_2_690x388.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/d/e/deac7b54ad693d12506d713c84b5128c3f8da3c7_2_1035x582.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/d/e/deac7b54ad693d12506d713c84b5128c3f8da3c7_2_1380x776.jpeg 2x" data-dominant-color="767676"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 159 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>Important and not intuitive: select with the left mouse click one voxel inside a artery, press String + left click at the same time<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/8/5/856c117ff06b81fe8a00e409f4a20cea61bdeb3b.jpeg" data-download-href="/uploads/short-url/j2j2pLe3ZQjFHpxDBQjVHToZHiX.jpeg?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/8/5/856c117ff06b81fe8a00e409f4a20cea61bdeb3b_2_690x388.jpeg" alt="grafik" data-base62-sha1="j2j2pLe3ZQjFHpxDBQjVHToZHiX" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/8/5/856c117ff06b81fe8a00e409f4a20cea61bdeb3b_2_690x388.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/8/5/856c117ff06b81fe8a00e409f4a20cea61bdeb3b_2_1035x582.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/8/5/856c117ff06b81fe8a00e409f4a20cea61bdeb3b_2_1380x776.jpeg 2x" data-dominant-color="767676"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 158 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>Change view to 3D (activate Button “Show 3D” and change view option)<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/2/c/2c14001437c714aa21831aa6fe7ba190755553d5.jpeg" data-download-href="/uploads/short-url/6hVRgCCAsPsBWqESD402HA1gf7n.jpeg?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/2/c/2c14001437c714aa21831aa6fe7ba190755553d5_2_690x388.jpeg" alt="grafik" data-base62-sha1="6hVRgCCAsPsBWqESD402HA1gf7n" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/2/c/2c14001437c714aa21831aa6fe7ba190755553d5_2_690x388.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/2/c/2c14001437c714aa21831aa6fe7ba190755553d5_2_1035x582.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/2/c/2c14001437c714aa21831aa6fe7ba190755553d5_2_1380x776.jpeg 2x" data-dominant-color="8C8D8D"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 170 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/b/8/b831ae2364c3143c42fd2d2328d3fe8938b3db18.png" data-download-href="/uploads/short-url/qhsidYJcmKEs8Enw7H9igLjcLPi.png?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/b/8/b831ae2364c3143c42fd2d2328d3fe8938b3db18_2_690x388.png" alt="grafik" data-base62-sha1="qhsidYJcmKEs8Enw7H9igLjcLPi" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/b/8/b831ae2364c3143c42fd2d2328d3fe8938b3db18_2_690x388.png, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/b/8/b831ae2364c3143c42fd2d2328d3fe8938b3db18_2_1035x582.png 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/b/8/b831ae2364c3143c42fd2d2328d3fe8938b3db18_2_1380x776.png 2x" data-dominant-color="B8BCDC"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 288 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>For cleaning (if to many wrong voxels were selected): use the “island” effect<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/1/8/181c0b29a9f785291c4eef8384c85145c4711c77.png" data-download-href="/uploads/short-url/3rhxD7L0Scx8Ll23GKt7cbpMiJp.png?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/1/8/181c0b29a9f785291c4eef8384c85145c4711c77_2_690x388.png" alt="grafik" data-base62-sha1="3rhxD7L0Scx8Ll23GKt7cbpMiJp" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/1/8/181c0b29a9f785291c4eef8384c85145c4711c77_2_690x388.png, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/1/8/181c0b29a9f785291c4eef8384c85145c4711c77_2_1035x582.png 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/1/8/181c0b29a9f785291c4eef8384c85145c4711c77_2_1380x776.png 2x" data-dominant-color="B8BCDC"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 287 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p><strong>Extra detailed segmentation:</strong> If you like to segment also smaller distal artery segments, you can add one more step: go to superior slices of the brain (blue arrow), activate Threshold (yellow arrow), decrease slider of “threshold range” as low as possible (only few voxels outside of arteries should be included), “Use for masking” ,</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/1/8/18d147b2ac296ade2d075533cdbaff500a0f5b8f.jpeg" data-download-href="/uploads/short-url/3xxQ45q6SgT5kmzaZs6ZqZBrxKf.jpeg?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/1/8/18d147b2ac296ade2d075533cdbaff500a0f5b8f_2_690x388.jpeg" alt="grafik" data-base62-sha1="3xxQ45q6SgT5kmzaZs6ZqZBrxKf" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/1/8/18d147b2ac296ade2d075533cdbaff500a0f5b8f_2_690x388.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/1/8/18d147b2ac296ade2d075533cdbaff500a0f5b8f_2_1035x582.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/1/8/18d147b2ac296ade2d075533cdbaff500a0f5b8f_2_1380x776.jpeg 2x" data-dominant-color="A5A7B7"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 169 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>activate “Sphere brush” and increase diameter to 20% or 40%, paint the brain.</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/d/1/d1a03f413dde46d701ad4b87caf1c9daa4b10920.jpeg" data-download-href="/uploads/short-url/tUr7nVOLCRZTyjttpaOBn9mqzRe.jpeg?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/d/1/d1a03f413dde46d701ad4b87caf1c9daa4b10920_2_690x388.jpeg" alt="grafik" data-base62-sha1="tUr7nVOLCRZTyjttpaOBn9mqzRe" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/d/1/d1a03f413dde46d701ad4b87caf1c9daa4b10920_2_690x388.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/d/1/d1a03f413dde46d701ad4b87caf1c9daa4b10920_2_1035x582.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/d/1/d1a03f413dde46d701ad4b87caf1c9daa4b10920_2_1380x776.jpeg 2x" data-dominant-color="A5A7B1"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 188 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p>Remove the false-segmented voxels with the “island” effect, “keep largest island”, and adapt minimum size (e.g. 5000), apply in the end.</p>
<p>To export the segmentation (e.g. to stl), press the small arrow (below yellow arrow), export to file, choose folder, file format …</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/2/0/2052eea5deb688378250c44288aff1ced472d610.jpeg" data-download-href="/uploads/short-url/4BWXyd8JtSuySQ1sbf7FO6A7Gh2.jpeg?dl=1" title="grafik" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/2/0/2052eea5deb688378250c44288aff1ced472d610_2_690x388.jpeg" alt="grafik" data-base62-sha1="4BWXyd8JtSuySQ1sbf7FO6A7Gh2" width="690" height="388" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/2/0/2052eea5deb688378250c44288aff1ced472d610_2_690x388.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/2/0/2052eea5deb688378250c44288aff1ced472d610_2_1035x582.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/2/0/2052eea5deb688378250c44288aff1ced472d610_2_1380x776.jpeg 2x" data-dominant-color="A6A8B7"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">grafik</span><span class="informations">1920×1080 180 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>
<p><strong>That’s it.</strong> I hope it help.</p>
<ul>
<li>
<p>If anybody has suggestions to improve the segmentation quality of cerebral arteries, please do not hesitate to post it here.</p>
</li>
<li>
<p>Sometimes the segmentation model is very big, then you can decrease the size in 3D Slicer.</p>
</li>
</ul>

---

## Post #8 by @Reasat_E_Noor (2024-04-03 12:38 UTC)

<p>when  I imported the single bifurcated artery in Ansys fluent I wasn’t able to mesh the geometry for cfd analysis, how to solve the issue?</p>

---

## Post #9 by @Andreea (2024-05-23 09:01 UTC)

<p>Hey! Do you think would be possible to share the MRI data set you used for this tutorial? Thank you in advance  <img src="https://emoji.discourse-cdn.com/twitter/grinning.png?v=12" title=":grinning:" class="emoji" alt=":grinning:" loading="lazy" width="20" height="20"></p>

---

## Post #10 by @tsinesh (2024-05-23 09:26 UTC)

<p>Hello,</p>
<p>I have the MR dataset from the OASIS III database, which is available on request. I cannot make it public myself.</p>

---

## Post #11 by @Andreea (2024-05-23 09:40 UTC)

<p>I understand. Thanks for answering.</p>

---

## Post #12 by @BDhoth (2025-01-16 16:36 UTC)

<p>This is what I see when I download the Vessellness Filter. Which one do I use to use the steps you provided? Thank you.<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/a/6/a6b4dd99e4b2eec3c0b779bd7d23edc92a483984.jpeg" data-download-href="/uploads/short-url/nMKLiEQRqXyKGAJyJhJwrSlE1ec.jpeg?dl=1" title="image" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/a/6/a6b4dd99e4b2eec3c0b779bd7d23edc92a483984_2_690x395.jpeg" alt="image" data-base62-sha1="nMKLiEQRqXyKGAJyJhJwrSlE1ec" width="690" height="395" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/a/6/a6b4dd99e4b2eec3c0b779bd7d23edc92a483984_2_690x395.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/a/6/a6b4dd99e4b2eec3c0b779bd7d23edc92a483984_2_1035x592.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/a/6/a6b4dd99e4b2eec3c0b779bd7d23edc92a483984_2_1380x790.jpeg 2x" data-dominant-color="959393"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">1753×1006 198 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div><br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/b/b/bb880d7a674139750df9e958a93a7e0cc4545f4e.png" data-download-href="/uploads/short-url/qKYMghG8CYX9GAu6l19D3zJjl3E.png?dl=1" title="image" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/b/b/bb880d7a674139750df9e958a93a7e0cc4545f4e.png" alt="image" data-base62-sha1="qKYMghG8CYX9GAu6l19D3zJjl3E" width="690" height="491" data-dominant-color="D9DBDD"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">725×516 49.3 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div></p>

---

## Post #13 by @tsinesh (2025-01-17 15:10 UTC)

<p>There was probably another Vesselness filter back then. Try out which filter delivers the best results for your images.</p>

---
