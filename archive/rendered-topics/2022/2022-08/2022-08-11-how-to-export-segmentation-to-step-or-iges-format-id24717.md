# How to export segmentation to STEP or IGES format?

**Topic ID**: 24717
**Date**: 2022-08-11
**URL**: https://discourse.slicer.org/t/how-to-export-segmentation-to-step-or-iges-format/24717

---

## Post #1 by @mdear (2022-08-11 05:59 UTC)

<p>Hello, I have a DICOM-originated CAT scan segmentation of air in a patient’s trachea and a segmentation imported from an Informatics/Curve Maker model (proposed complex tracheostomy tube design) that I want to export together as a STEP file (1st choice) or IGES file (second choice).  How can I do that exactly in a way that I minimize any quality loss that might occur during translation?  This is a sub-millimeter medical application ultimately destined for a 3D print.    Thanks for your time.<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/e/d/ed36746df8063da8597cc512ae9fffb50380d005.jpeg" data-download-href="/uploads/short-url/xQtPq6ZoMmOtQmokL5aHb3VwBkF.jpeg?dl=1" title="2022-08-08-Scene - ComplexTrachTubeProposal" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/e/d/ed36746df8063da8597cc512ae9fffb50380d005_2_690x476.jpeg" alt="2022-08-08-Scene - ComplexTrachTubeProposal" data-base62-sha1="xQtPq6ZoMmOtQmokL5aHb3VwBkF" width="690" height="476" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/e/d/ed36746df8063da8597cc512ae9fffb50380d005_2_690x476.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/e/d/ed36746df8063da8597cc512ae9fffb50380d005_2_1035x714.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/e/d/ed36746df8063da8597cc512ae9fffb50380d005.jpeg 2x" data-dominant-color="8B97BC"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">2022-08-08-Scene - ComplexTrachTubeProposal</span><span class="informations">1339×924 123 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>

---

## Post #2 by @pieper (2022-08-11 14:49 UTC)

<p>Slicer doesn’t support those formats, but saving as OBJ or STL should be importable in any CAD or 3D printing program.  Note that although the curve is generated by a spline the resulting model is a triangle mesh not a spline surface.  If you need to adjust the resolution of the mesh you can control the parameters of the <a href="https://vtk.org/doc/nightly/html/classvtkTubeFilter.html#details"><code>vtkTubeFilter</code></a> in the <a href="https://github.com/tokjun/CurveMaker/blob/master/CurveMaker/CurveMaker.py#L1007-L1028">CurveMaker source code</a> in your local copy.</p>

---

## Post #3 by @mdear (2022-08-12 10:14 UTC)

<p>Hmmm, it just seems a shame to create a structure with splines, just to render down to triangle mesh, just to recreate using splines to produce a STEP file.  It sounds like a artist’s rendition of a copy of a copy.  I want to create a proposed structure using the CurveMaker and then use this as the basis to perform finer grained 3D modelling staying as close as possible to the original source data, and only render/voxelate (is that even a word?) / slice in the final step just before printing.  So yes, STEP/IGES export is DEFINITELY on my 3D slicer wish list.</p>

---

## Post #4 by @pieper (2022-08-12 13:57 UTC)

<p>Very few things in the human body are well described by CAD-like splines, so STEP/IGES would only make sense for cases like what you present and they don’t come up very often.  For most cases we prefer to use the volume data as the reference and use triangle meshes as a convenience for operations like rendering or exporting directly for printing.  If you want to perform operations on the splines, your better option might be to export just the control points and radius from the CurveMaker to a CAD package and extrude the tube as a spline surface and do any further operation in that space before discretizing to the desired resolution for the 3D printer.</p>

---

## Post #5 by @mdear (2022-08-19 02:35 UTC)

<p>Fair enough, <a class="mention" href="/u/pieper">@pieper</a>, thanks for the response.  I realize this use case may be a little out-of-scope for this tool, I feel I did have to ask though.  Not a problem, my 3D designer will create a STEP file in SolidWorks after using my rough CurveMaker points as guides, and I’ll double check the shape via virtual (Iron Man style) insertion into the original CAT/DICOM volume.</p>

---
