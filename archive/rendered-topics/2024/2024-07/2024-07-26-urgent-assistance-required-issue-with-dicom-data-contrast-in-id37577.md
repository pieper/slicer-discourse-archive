---
topic_id: 37577
title: "Urgent Assistance Required Issue With Dicom Data Contrast In"
date: 2024-07-26
url: https://discourse.slicer.org/t/37577
---

# Urgent Assistance Required: Issue with DICOM Data Contrast in 3D Slicer

**Topic ID**: 37577
**Date**: 2024-07-26
**URL**: https://discourse.slicer.org/t/urgent-assistance-required-issue-with-dicom-data-contrast-in-3d-slicer/37577

---

## Post #1 by @Yaren_Cetin (2024-07-26 21:11 UTC)

<p>Dear 3D Slicer Team,</p>
<p>I trust this message finds you in good health and high spirits. I am writing to bring to your esteemed attention to a pressing issue I have encountered while utilizing 3D Slicer. As a dedicated and regular user of your application, I have consistently found it to be both reliable and efficient. However, I recently encountered a significant problem that is adversely impacting my user experience.</p>
<p>Upon uploading my DICOM data to the application, I noticed that the contrast is insufficient for effective 3D modeling of the skull, as evidenced in Figure 1. Moreover, attempts to adjust the contrast settings result in both the background and the skull appearing with identical contrast levels. This anomaly produces an imperfect model, thereby hindering my ability to take precise measurements, as illustrated in Figure 2.</p>
<p>This issue is particularly problematic as it pertains to a critical scientific project for my university. Given that I am operating under a stringent deadline with only a few months remaining to submit my results, resolving this issue is of paramount importance.</p>
<p>To ensure the integrity of my dataset, I have cross-verified it using alternative software such as ImageJ and medical imaging applications like AMID, where the data functions perfectly (see Figure 3). Additionally, I have attempted to use different versions of 3D Slicer and various computers, yet the issue persists.</p>
<p>I kindly request that you investigate this matter at your earliest convenience and provide me with an update on potential resolutions or any guidance on how I might overcome this challenge. Your prompt attention to this matter would be greatly appreciated.</p>
<p>Thank you for your time and assistance.</p>
<p>Yours sincerely,</p>
<p>Yaren Çetin</p>
<p><a href="mailto:yarcet03@gmail.com">yarcet03@gmail.com</a></p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/1/1/116eecfed3184df6bd7680941481b97cb609a287.jpeg" data-download-href="/uploads/short-url/2udM0B9Yo63rgwv5ICl4GKFFYTZ.jpeg?dl=1" title="1" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/1/1/116eecfed3184df6bd7680941481b97cb609a287_2_681x500.jpeg" alt="1" data-base62-sha1="2udM0B9Yo63rgwv5ICl4GKFFYTZ" width="681" height="500" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/1/1/116eecfed3184df6bd7680941481b97cb609a287_2_681x500.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/1/1/116eecfed3184df6bd7680941481b97cb609a287_2_1021x750.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/1/1/116eecfed3184df6bd7680941481b97cb609a287.jpeg 2x" data-dominant-color="43424F"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">1</span><span class="informations">1140×836 126 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div></p>
<p>Figure 1</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/5/4/54d1fa5028cd1d7e75060959acecee10db8d9e27.jpeg" data-download-href="/uploads/short-url/c6lYW4lKJBTvaSl6GHau6E4lefR.jpeg?dl=1" title="2" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/5/4/54d1fa5028cd1d7e75060959acecee10db8d9e27_2_681x500.jpeg" alt="2" data-base62-sha1="c6lYW4lKJBTvaSl6GHau6E4lefR" width="681" height="500" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/5/4/54d1fa5028cd1d7e75060959acecee10db8d9e27_2_681x500.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/5/4/54d1fa5028cd1d7e75060959acecee10db8d9e27_2_1021x750.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/5/4/54d1fa5028cd1d7e75060959acecee10db8d9e27.jpeg 2x" data-dominant-color="9494A1"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">2</span><span class="informations">1141×837 241 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div></p>
<p>Figure 2</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/b/9/b96d880a3ccce98e9a832e46347188173ec9a94b.jpeg" data-download-href="/uploads/short-url/qsn07DWbt3VUBbIIsz27ZYMOM3x.jpeg?dl=1" title="3" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/b/9/b96d880a3ccce98e9a832e46347188173ec9a94b_2_515x500.jpeg" alt="3" data-base62-sha1="qsn07DWbt3VUBbIIsz27ZYMOM3x" width="515" height="500" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/b/9/b96d880a3ccce98e9a832e46347188173ec9a94b_2_515x500.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/b/9/b96d880a3ccce98e9a832e46347188173ec9a94b.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/b/9/b96d880a3ccce98e9a832e46347188173ec9a94b.jpeg 2x" data-dominant-color="2D2D2D"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">3</span><span class="informations">619×600 33.2 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div></p>
<p>Figure 3</p>

---

## Post #2 by @RafaelPalomar (2024-07-26 21:30 UTC)

<p>Hello <a class="mention" href="/u/yaren_cetin">@Yaren_Cetin</a>, do you have the possiblity to share this data for introspection. It will be easier to find the root of the problem if we can reproduce it.</p>

---

## Post #3 by @Yaren_Cetin (2024-07-27 05:14 UTC)

<p>Dear Sir,</p>
<p>I appreciate your prompt and kind response. I am hereby sharing the DICOM data that I am encountering issues with, via the attached Google Drive link. Please let me know if you encounter any difficulties accessing it.</p>
<p>Thank you for your attention to this matter.</p>
<p>Best regards,</p>
<p>Yaren Çetin</p>
<p><a href="https://drive.google.com/drive/folders/1PPjfkFcXisMG7g9HIJNHhtHXY_yCQW4E?usp=sharing" rel="noopener nofollow ugc">Data Set</a></p>

---

## Post #4 by @issakomi (2024-07-27 10:23 UTC)

<p>Dear Yaren,</p>
<p>if it helps: here is the volume in the Nrrd format, probably it should have less issues with Slicer. I don’t know what is the problem with Slicer, I could load the series in my app and it looks like at your ‘good’ screenshot.<br>
<a href="https://drive.google.com/file/d/1eIkYH29oZKzxy0Dvqny2WE5hvoOgbiJZ/view?usp=sharing" rel="noopener nofollow ugc">Nrrd</a></p>
<p>FYI, quick and dirty (really 1 min.) bone segmentation:<br>
<a href="https://drive.google.com/file/d/1YExJurvA2TGgolHKy3lgRfRRnHvidZ7Y/view?usp=sharing" rel="noopener nofollow ugc">DICOM SEG binary</a><br>
<a href="https://drive.google.com/file/d/1cZRhESDUzauFeFeUbyCFuCWt1purJLbB/view?usp=sharing" rel="noopener nofollow ugc">STL mesh</a></p>
<p>Edit: updated DICOM SEG link (fixed wrong VR for some dates inherited from CT)</p>

---

## Post #5 by @Yaren_Cetin (2024-07-27 13:01 UTC)

<p>Dear Madam/Sir,</p>
<p>Thank you sincerely for your assistance thus far. However, I continue to encounter difficulties with my DICOM, particularly concerning contrast. While I can successfully access and manipulate the data you provided, I face challenges with my own dataset. Unfortunately, I am unable to change the CT machine or institute due to strict project constraints and a limited timeframe of a few months.</p>
<p>Could you please confirm if any parameters in the DICOM affecting contrast were modified? Additionally, I would greatly appreciate any alternative methods you can suggest. For instance, despite my efforts in modeling, I struggle to rectify imperfections without compromising essential details, such as critical edges.</p>
<p>Thank you once again for your ongoing support and guidance.</p>
<p>Best regards</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/a/6/a64ebab0c7e4410ac9bf7801a17f5173e3f45dea.jpeg" data-download-href="/uploads/short-url/nJdW4TcBSbIpV6FZmmgqxKl3GeC.jpeg?dl=1" title="image" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/a/6/a64ebab0c7e4410ac9bf7801a17f5173e3f45dea.jpeg" alt="image" data-base62-sha1="nJdW4TcBSbIpV6FZmmgqxKl3GeC" width="690" height="408" data-dominant-color="95796D"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">876×519 26.3 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div></p>

---

## Post #6 by @issakomi (2024-07-27 14:50 UTC)

<p>This (Bits Stored) seems to be wrong and probably confuse Slicer. 12 bit stored and rescale intercept and width are somewhat not plausible, the stored values don’t fit into 12 bits.<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/9/1/9173777f7399b36d42c1150bf9f7f70bf1d66927.jpeg" data-download-href="/uploads/short-url/kKICq0mL7usxl0cxRPDRzCLPa8T.jpeg?dl=1" title="scr1" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/9/1/9173777f7399b36d42c1150bf9f7f70bf1d66927_2_517x133.jpeg" alt="scr1" data-base62-sha1="kKICq0mL7usxl0cxRPDRzCLPa8T" width="517" height="133" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/9/1/9173777f7399b36d42c1150bf9f7f70bf1d66927_2_517x133.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/9/1/9173777f7399b36d42c1150bf9f7f70bf1d66927.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/9/1/9173777f7399b36d42c1150bf9f7f70bf1d66927.jpeg 2x" data-dominant-color="5D6370"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">scr1</span><span class="informations">725×188 57.9 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div></p>
<p>Try this <a href="https://drive.google.com/file/d/18dvO8fEizyXKxFZxluS7YghZEJRSf3nR/view?usp=sharing" rel="noopener nofollow ugc">dataset</a> (fixed).</p>

---

## Post #7 by @Yaren_Cetin (2024-07-27 16:02 UTC)

<p>The data you sent worked perfectly, but I still couldn’t figure out how you fixed the solution. Could you explain how you did it? I need to understand because I have 35 more models to work on.</p>

---

## Post #8 by @mikebind (2024-07-27 23:22 UTC)

<p>The discussion here might be helpful for you:  <a href="https://discourse.slicer.org/t/the-slice-view-is-of-different-intensity-than-the-actual-object/17467" class="inline-onebox">The Slice view is of different intensity than the actual object</a></p>
<p>It looks like the DICOM header for your files is incorrect about the data contained.  Your data is 16 bit, but the header is telling Slicer that it is 12 bit.  That leads to an overflow error which results in your high voxel values looking like low voxel values.</p>

---

## Post #9 by @issakomi (2024-07-28 02:01 UTC)

<blockquote>
<p>Your data is 16 bit, but the header is telling Slicer that it is 12 bit.</p>
</blockquote>
<p>Exactly.</p>
<blockquote>
<p>Could you explain how you did it?</p>
</blockquote>
<p>In the 1st post: I have exported the dataset to Nrrd with another software. BTW, it has the option “Clean unused bits”, if it is set to ON the data looks the same as in Slicer. If I remember correctly, ITK’s GDCMIO always zeros unused bits, it is DICOM compliant, but irreversible in the particular case.</p>
<p>In the 2nd post: fixed metadata, set <em>Bits Stored</em> 16, <em>High Bit</em> 15.</p>
<p>P.S. BTW, <em>VR DA</em> and <em>TM</em> are wrong in the dataset, e.g.  <code>2024.07.24</code> should be <code>20240724</code>, <code>13:38:03</code> should be <code>133803</code>.</p>

---
