---
topic_id: 39462
title: "Confusion In Branch Naming For Publishing My Extension"
date: 2024-10-01
url: https://discourse.slicer.org/t/39462
---

# Confusion in branch naming for publishing my extension

**Topic ID**: 39462
**Date**: 2024-10-01
**URL**: https://discourse.slicer.org/t/confusion-in-branch-naming-for-publishing-my-extension/39462

---

## Post #1 by @rasakereh (2024-10-01 05:02 UTC)

<p>I want to publish my scripted extension to the extension manager but after going through different doc pages, I am still confused about branch names.</p>
<p>What I want to do: publish my extension on both stable version and preview version. My code is on master (not main) branch</p>
<p>What I know I should do: submit a json to main and an s4ext file to 5.6 branch</p>
<p>What I am not sure about:</p>
<ul>
<li>should i submit separate pull requests for main and 5.6 branch separately?</li>
<li>what should i put in scmrevision field? main (as in the destination branch on your repo) or master (as source branch on my repo)</li>
</ul>
<p>Thanks in advance!</p>

---

## Post #2 by @jcfr (2024-10-01 05:24 UTC)

<aside class="quote no-group" data-username="rasakereh" data-post="1" data-topic="39462">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://sea2.discourse-cdn.com/flex020/user_avatar/discourse.slicer.org/rasakereh/48/66881_2.png" class="avatar"> rasakereh:</div>
<blockquote>
<p>should i submit separate pull requests for main and 5.6 branch separately?</p>
</blockquote>
</aside>
<p>Indeed, a pull request should be submitted against <code>master</code> to have the extension built for the <code>Slicer Preview</code> and  against  the  latest <code>X.Y</code> branch to have the extension built for the latest stable release.</p>
<aside class="quote no-group" data-username="rasakereh" data-post="1" data-topic="39462">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://sea2.discourse-cdn.com/flex020/user_avatar/discourse.slicer.org/rasakereh/48/66881_2.png" class="avatar"> rasakereh:</div>
<blockquote>
<p>what should i put in scmrevision field? main (as in the destination branch on your repo) or master (as source branch on my repo)</p>
</blockquote>
</aside>
<p>The <code>scm_revision</code> field should indeed be set to the revision (either a SHA or a branch name) associated with your extension repository.</p>
<p>For reference, see <a href="https://slicer.readthedocs.io/en/latest/developer_guide/extensions.html#extension-catalog-entry-file">https://slicer.readthedocs.io/en/latest/developer_guide/extensions.html#extension-catalog-entry-file</a></p>

---

## Post #3 by @lassoan (2024-10-01 11:55 UTC)

<p><strong>Branch name:</strong> you can use any branch name, but to be consistent with all new repositories (and an increasing number of existing repositories) and thereby avoid any complications, I would recommend using the current default: <code>main</code>. Using the old default - <code>master</code> - indicates that the project is unable or unwilling to follow current trends, which may slightly discourage some potential contributors and funding sources. Changing the branch name (e.g., pushing <code>master</code> branch content to <code>main</code> and change th3 default branch in github) takes a few minutes.</p>
<p><strong><code>scm_revision</code>:</strong> Using a git hash allows you to specify exactly what extension source code has to be used with what Slicer version, but you need to update this git hash in the extensions index each time you update your extension. Using a branch name makes it difficult to determine exactly what extension version was compatible with an older Slicer version; but it is more convenient, because you do not have to send a pull request to the extensions index after each extension change (the latest version is picked up automatically each night).</p>
<p><a class="mention" href="/u/jcfr">@jcfr</a> Would you prefer extension developers to generate a pull request after each change? Most extension developers don’t do this and I would much prefer not to do this for the dozens of extensions that I maintain. I would be ready to switch to using git hash if a pull request was automatically generated by a single click or when a new github release is created for thr extension. However, until then I would not require developers to use git hash.</p>

---

## Post #4 by @jcfr (2024-10-01 13:09 UTC)

<aside class="quote no-group" data-username="lassoan" data-post="3" data-topic="39462">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://sea2.discourse-cdn.com/flex020/user_avatar/discourse.slicer.org/lassoan/48/13_2.png" class="avatar"> lassoan:</div>
<blockquote>
<p>Would you prefer extension developers to generate a pull request after each change?</p>
</blockquote>
</aside>
<p>Developers will not have to do this.</p>
<p>Instead, this will be automated like what is done with <code>dependabot</code> for “pinned dependencies”.</p>
<p>Since we can’t have comment in json file, I am thinking to introduce a new optional field called <code>scm_revision_reference</code>. This means that files like the following:</p>
<pre data-code-wrap="json"><code class="lang-json">{
  "$schema": "https://raw.githubusercontent.com/Slicer/Slicer/main/Schemas/slicer-extension-catalog-entry-schema-v1.0.0.json#",
  "build_dependencies": [],
  "build_subdirectory": ".",
  "category": "Developer Tools",
  "scm_revision": "master",
  "scm_url": "https://github.com/Slicer/SlicerDeveloperToolsForExtensions.git"
}
</code></pre>
<p>will be automatically updated like this the first time:</p>
<pre data-code-wrap="json"><code class="lang-json">{
  "$schema": "https://raw.githubusercontent.com/Slicer/Slicer/main/Schemas/slicer-extension-catalog-entry-schema-v1.1.0.json#",
  "build_dependencies": [],
  "build_subdirectory": ".",
  "category": "Developer Tools",
  "scm_revision": "cc2a33a2b27858bb9d9caa3d9027032322216a25",
  "scm_revision_reference": "master",
  "scm_url": "https://github.com/Slicer/SlicerDeveloperToolsForExtensions.git"
}
</code></pre>
<p>Then, on a daily basis, the “scm_revision_reference” will be automatically updates for all relevant extension files for which the upstream repository set in <code>svm_url</code> has been updated.</p>

---

## Post #5 by @lassoan (2024-10-01 14:01 UTC)

<p>This would be nice. It would ensure that git hashes are archived without requireing extension developers to generate pull requests. Would dependabot update the files automatically or Slicer maintainers would need to merge each pull request?</p>

---

## Post #6 by @rasakereh (2024-10-01 15:23 UTC)

<p>Thank you for your response! As a follow up question, if I submit a PR for <code>5.6</code>, will my plugin be automatically accessible through older versions like <code>5.4</code> too? Or will it only be visible to the latest stable version users?</p>

---

## Post #7 by @jamesobutler (2024-10-01 15:26 UTC)

<p>The <code>5.6</code> branch will make it available for the latest Slicer stable (5.6.2). It will not be available in older stable release (5.6.1, 5.6.0, 5.4.0 and older). The Slicer factory build machine only builds new extension packages for the latest Slicer stable and latest Slicer preview.</p>

---
