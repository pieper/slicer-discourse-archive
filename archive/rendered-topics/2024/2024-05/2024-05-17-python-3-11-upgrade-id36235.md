---
topic_id: 36235
title: "Python 3 11 Upgrade"
date: 2024-05-17
url: https://discourse.slicer.org/t/36235
---

# Python 3.11 Upgrade

**Topic ID**: 36235
**Date**: 2024-05-17
**URL**: https://discourse.slicer.org/t/python-3-11-upgrade/36235

---

## Post #1 by @lukepolson (2024-05-17 17:18 UTC)

<p>Hi all,</p>
<p>We’re currently in the process of developing a tomographic reconstruction extension for 3D slicer (currently SPECT, we hope to build others for PET/CT soon as well). Our extension relies on PyTomography, which itself requires python 3.11; as such, this is a feature request to upgrade the python version of 3D Slicer to 3.11 <img src="https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=12" title=":slight_smile:" class="emoji" alt=":slight_smile:" loading="lazy" width="20" height="20"></p>

---

## Post #2 by @jamesobutler (2024-05-17 20:34 UTC)

<p>Upgrading the Slicer python version from 3.9 to something newer is something currently being tracked at:</p>
<aside class="onebox githubissue" data-onebox-src="https://github.com/Slicer/Slicer/issues/7060">
  <header class="source">

      <a href="https://github.com/Slicer/Slicer/issues/7060" target="_blank" rel="noopener nofollow ugc">github.com/Slicer/Slicer</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/Slicer/Slicer/issues/7060" target="_blank" rel="noopener nofollow ugc">Update Python minor version from 3.9 to something newer</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2023-06-28" data-time="23:39:57" data-timezone="UTC">11:39PM - 28 Jun 23 UTC</span>
      </div>


      <div class="user">
        <a href="https://github.com/jamesobutler" target="_blank" rel="noopener nofollow ugc">
          <img alt="jamesobutler" src="https://avatars.githubusercontent.com/u/15837524?v=4" class="onebox-avatar-inline" width="20" height="20">
          jamesobutler
        </a>
      </div>
    </div>

    <div class="labels">
        <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">
          Type: Enhancement
        </span>
        <span style="display:inline-block;margin-top:2px;background-color: #B8B8B8;padding: 2px;border-radius: 4px;color: #fff;margin-left: 3px;">
          dependencies
        </span>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">## Is your feature request related to a problem? Please describe.

As I learne<span class="show-more-container"><a href="" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">d while working on #7046, the latest versions of python packages such as `numpy` and `scipy` now have a python minimum of 3.9 which is the version currently used by Slicer (3.9.10). Per [NEP29 drop schedule](https://numpy.org/neps/nep-0029-deprecation_policy.html#drop-schedule), Python 3.9 support will begin to be dropped by major python packages beginning April 5th, 2024. However, NEP29 has now been superseded by [SPEC 0](https://scientific-python.org/specs/spec-0000/) where the [drop schedule](https://scientific-python.org/specs/spec-0000/#drop-schedule) states to drop Python 3.9 support in new releases starting in 2023 Q4 (marking the end of 3 years of support). Writing up this issue is to stay ahead of the deprecation curve so that Slicer does not get into a situation of not being able to use the latest versions of major python packages.

## To answer the question: Is the newer version of Python supported by the open source community?
When Slicer was updated from 3.6.7 to 3.9.10 in https://github.com/Slicer/Slicer/commit/34e48e8aef5dad19ec8a955d6f48a1940846e3f3:
It was January 25th, 2022 and the "[python readiness](https://pyreadiness.org/)" for Python 3.9 was that [64.7%](https://github.com/di/pyreadiness/blob/50d28f9bcf62edf5f42e237082f1a3c93f8be3e1/docs/3.9/index.html#L69) of the most popular python packages had explicit support for 3.9 as stated on pypi.org.

|Date | Python 3.9 | Python 3.10 | Python 3.11 | Python 3.12|
|------|-------------|--------------|---------------|--------------|
|June 28th, 2023|[78.6%](https://github.com/di/pyreadiness/blob/a7f95961c5615d5eb336ad646fe3d1aae8cf8c55/docs/3.9/index.html#L95)|[72.8%](https://github.com/di/pyreadiness/blob/a7f95961c5615d5eb336ad646fe3d1aae8cf8c55/docs/3.10/index.html#L95)|[51.7%](https://github.com/di/pyreadiness/blob/a7f95961c5615d5eb336ad646fe3d1aae8cf8c55/docs/3.11/index.html#L95)||
|August 24th, 2023|[80.8%](https://github.com/di/pyreadiness/blob/949c860148e24c6976ff8de76435e663e610d2da/docs/3.9/index.html#L95)|[76.4%](https://github.com/di/pyreadiness/blob/949c860148e24c6976ff8de76435e663e610d2da/docs/3.10/index.html#L95)|[60.6%](https://github.com/di/pyreadiness/blob/949c860148e24c6976ff8de76435e663e610d2da/docs/3.11/index.html#L95)||
|October 28th, 2023|[80.0%](https://github.com/di/pyreadiness/blob/bad9df0eafc04ebf06bbd01ff97be2235a96e841/docs/3.9/index.html#L95)|[76.1%](https://github.com/di/pyreadiness/blob/bad9df0eafc04ebf06bbd01ff97be2235a96e841/docs/3.10/index.html#L95)|[64.4%](https://github.com/di/pyreadiness/blob/bad9df0eafc04ebf06bbd01ff97be2235a96e841/docs/3.11/index.html#L95)||
|December 20th, 2023|[80.8%](https://github.com/di/pyreadiness/blob/b8ab80f82fcc088aa44b3ad9ed26151c70f301cb/docs/3.9/index.html#L95)|[76.9%](https://github.com/di/pyreadiness/blob/b8ab80f82fcc088aa44b3ad9ed26151c70f301cb/docs/3.10/index.html#L95)|[67.5%](https://github.com/di/pyreadiness/blob/b8ab80f82fcc088aa44b3ad9ed26151c70f301cb/docs/3.11/index.html#L95)||
|March 4th, 2024|[82.8%](https://github.com/di/pyreadiness/blob/764e4520b314c28658f099299b3c7670280ffeb5/docs/3.9/index.html#L95)|[78.9%](https://github.com/di/pyreadiness/blob/764e4520b314c28658f099299b3c7670280ffeb5/docs/3.10/index.html#L95)|[69.7%](https://github.com/di/pyreadiness/blob/764e4520b314c28658f099299b3c7670280ffeb5/docs/3.11/index.html#L95)|[48.6%](https://github.com/di/pyreadiness/blob/764e4520b314c28658f099299b3c7670280ffeb5/docs/3.12/index.html#L95)|
|May 17th, 2024|[80.8%](https://github.com/di/pyreadiness/blob/bfe7422e412f0305b6762dcefa4849a8bb05384e/docs/3.9/index.html#L95)|[77.5%](https://github.com/di/pyreadiness/blob/bfe7422e412f0305b6762dcefa4849a8bb05384e/docs/3.10/index.html#L95)|[71.1%](https://github.com/di/pyreadiness/blob/bfe7422e412f0305b6762dcefa4849a8bb05384e/docs/3.11/index.html#L95)|[55.0%](https://github.com/di/pyreadiness/blob/bfe7422e412f0305b6762dcefa4849a8bb05384e/docs/3.12/index.html#L95)|

## Describe the solution you'd like

- Update Slicer's Python from 3.9 to 3.10. 

Based on Slicer's previous update to Python 3.9 at 64.7% readiness and Python 3.10 at a higher readiness than that, this means Slicer can consider Python 3.10 ready to update to pending Python 3.10 support at:
- https://github.com/python-cmake-buildsystem/python-cmake-buildsystem
- https://github.com/python-cmake-buildsystem/python-cmake-buildsystem/pull/281

## Describe alternatives you've considered

- Update Slicer's Python from 3.9 to 3.11. This should be considered especially if the python-readiness for Python 3.11 (https://pyreadiness.org/3.11/) has increased when a developer begins to execute on this update.</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Python 3.11 seems to be a good candidate for the next version that Slicer upgrades to. It will probably happen sometime this year though I don’t believe there is specific funding or plans for volunteered time to support this effort. <a class="mention" href="/u/jcfr">@jcfr</a> would probably know best.</p>
<p><a class="mention" href="/u/lukepolson">@lukepolson</a> since you are the primary developer of <a href="https://github.com/qurit/PyTomography" rel="noopener nofollow ugc"><code>PyTomography</code></a> can you describe what Python 3.11 specific features you use in your code that are not supported by Python 3.9? Would you be able to adapt your code to keep your Slicer extension development going if the Slicer python upgrade does not happen soon?</p>

---

## Post #3 by @lukepolson (2024-07-19 17:29 UTC)

<p>Hi <a class="mention" href="/u/jamesobutler">@jamesobutler</a> , sorry for the very late reply: I had thought I already replied here! We did end up changing a few things in PyTomography so that its compatible with python 3.9. Previously I was using features of Python 3.11 to perform array indexing using the unpacking (*) operator, which isn’t available in earlier version of python. Changing the code required adding a few extra lines, but had no effect on any computational speed or anything. This may be something to be aware of when evaluating the importance of upgrading to python 3.11, as some developers of extensions may unknowingly use new features of the language.</p>

---
