# Export coordinate points of markups to the predefined folder

**Topic ID**: 18216
**Date**: 2021-06-18
**URL**: https://discourse.slicer.org/t/export-coordinate-points-of-markups-to-the-predefined-folder/18216

---

## Post #1 by @Serg (2021-06-18 18:08 UTC)

<p>I’m pretty sure that this is a very simple, but can’t find an answer in the Support category.<br>
I need to export the RAS of the markups table to the predefined folder just with one click of the “Export” button to avoid the “highlight”, “copy” and “paste” generated by the Slicer table option.<br>
Is such a solution already exist?<br>
Thank you in advance!</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/3/1/313b4592a5df86b7875e909ec2034a3105abd214.jpeg" data-download-href="/uploads/short-url/71wnSPolcL1lW2L458SJLMnLd2I.jpeg?dl=1" title="Export_RAS_to_predefined_place" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/3/313b4592a5df86b7875e909ec2034a3105abd214_2_539x500.jpeg" alt="Export_RAS_to_predefined_place" data-base62-sha1="71wnSPolcL1lW2L458SJLMnLd2I" width="539" height="500" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/3/313b4592a5df86b7875e909ec2034a3105abd214_2_539x500.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/3/313b4592a5df86b7875e909ec2034a3105abd214_2_808x750.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/3/313b4592a5df86b7875e909ec2034a3105abd214_2_1078x1000.jpeg 2x" data-dominant-color="EAEBF1"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">Export_RAS_to_predefined_place</span><span class="informations">1325×1228 150 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>

---

## Post #2 by @lassoan (2021-06-18 20:35 UTC)

<p>You can write a few-line Python script to do this and assign it to a keyboard shortcut. For example, export to table node by calling <code>slicer.modules.markups.logic().ExportControlPointsToTable(...)</code> and then save the table node to file. See examples in the <a href="https://slicer.readthedocs.io/en/latest/developer_guide/script_repository.html#select-cells-of-a-model-using-markups-fiducial-points">script repository</a>.</p>
<p>What is the end goal of your project?</p>
<p>If you want to make the same measurements on many data sets then you may find this short tutorial useful:</p>
<div class="youtube-onebox lazy-video-container" data-video-id="_mloKGTtLog" data-video-title="Make your 3D measurements faster using Python scripting" data-provider-name="youtube">
  <a href="https://www.youtube.com/watch?v=_mloKGTtLog" target="_blank" rel="noopener">
    <img class="youtube-thumbnail" src="https://img.youtube.com/vi/_mloKGTtLog/maxresdefault.jpg" title="Make your 3D measurements faster using Python scripting" width="" height="">
  </a>
</div>

<p>If you want to use this for real-time communication with an external software then you can use OpenIGTLink to stream markup positions to any other application. For example, you can receive the point positions in real-time in any Python environment using <a href="https://github.com/lassoan/pyigtl">pyigtl</a> package.</p>

---

## Post #3 by @Serg (2021-06-21 04:29 UTC)

<p>Thanks a lot for your prompt reply!<br>
The goal is to get in real-time a needle position inserted in phantom with the tracking system and send coordinates of the penetration point with the needle’s spatial information to the fem simulation. Compare results of obtained simulation with the pre-simulated computation and adjust the intensity of the media distributed through the needle or, change/adjust the needle position and send again to the fem computation.<br>
I’m trying to follow up with example on <a href="https://github.com/lassoan/pyigtl" class="inline-onebox" rel="noopener nofollow ugc">GitHub - lassoan/pyigtl: Python implementation of OpenIGTLink</a>. However, there is an error when executing pyigtl commands in cmd (screenshot attached).<br>
Also, could you please tell how to check version of installed OpenIGTLink?<br>
Thank you in advance for the help and suggestions.<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/6/e/6edb221171c2586e97a4fc319ec244b5538d5f55.jpeg" data-download-href="/uploads/short-url/fOG0KUQ9j1pjgIP3y6g5g6pTeex.jpeg?dl=1" title="pyigtl_connection" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/6/6edb221171c2586e97a4fc319ec244b5538d5f55_2_690x476.jpeg" alt="pyigtl_connection" data-base62-sha1="fOG0KUQ9j1pjgIP3y6g5g6pTeex" width="690" height="476" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/6/6edb221171c2586e97a4fc319ec244b5538d5f55_2_690x476.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/6/6edb221171c2586e97a4fc319ec244b5538d5f55_2_1035x714.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/6/6edb221171c2586e97a4fc319ec244b5538d5f55_2_1380x952.jpeg 2x" data-dominant-color="ABAEBC"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">pyigtl_connection</span><span class="informations">1687×1166 236 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div></p>

---

## Post #4 by @lassoan (2021-06-21 04:35 UTC)

<p>What FEM simulation package do you use? If it has a Python interpreter then you can run pyigtl directly in there. If the simulator has any other real-time interface then you should be able to send messages from Slicer’s Python environment using that interface.</p>

---

## Post #5 by @Serg (2021-06-21 05:13 UTC)

<p>It’s a great suggestion, because we’re using COMSOL; will investigate the Python interpreter in it.<br>
Thanks!!</p>

---

## Post #6 by @Serg (2021-06-26 15:45 UTC)

<p>I stuck with the real-time markups stream using pyigtl, which was successfully (i hope) installed by cmd “pip install pyigtl”, according to <a href="https://github.com/lassoan/pyigtl/tree/master/pyigtl" class="inline-onebox" rel="noopener nofollow ugc">pyigtl/pyigtl at master · lassoan/pyigtl · GitHub</a><br>
Executing a simple ‘import pyigtl’ in Slicer, generates ModuleNotFoundError: No module named ‘pyigtl’<br>
Should i build the module and install it by using Slicer Extension Manager?<br>
Could you please provide a short description of how to implement and use pyigtl in Slicer?<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/6/9/6997cac36002fcff03067b70f161add7ae168d1d.jpeg" data-download-href="/uploads/short-url/f47lxdrmcjd4Pc3fsAahdOyJfUp.jpeg?dl=1" title="pip_install_pyigtl" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/6/6997cac36002fcff03067b70f161add7ae168d1d_2_690x176.jpeg" alt="pip_install_pyigtl" data-base62-sha1="f47lxdrmcjd4Pc3fsAahdOyJfUp" width="690" height="176" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/6/6997cac36002fcff03067b70f161add7ae168d1d_2_690x176.jpeg, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/2X/6/6997cac36002fcff03067b70f161add7ae168d1d_2_1035x264.jpeg 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/6/9/6997cac36002fcff03067b70f161add7ae168d1d.jpeg 2x" data-dominant-color="2A2D2D"><div class="meta">
<svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">pip_install_pyigtl</span><span class="informations">1185×303 44.8 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg>
</div></a></div><br>
<img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/4/c/4c84eab39ba4fddd85cddea19174696e5394a7cf.jpeg" alt="No_module_pyigtl" data-base62-sha1="aUV3LisH2UoZMtqf6ks1rbyEwDt" width="437" height="199"><br>
Thank you!</p>

---

## Post #7 by @lassoan (2021-06-26 17:44 UTC)

<p>Slicer has OpenIGTLink support via the SlicerOpenIGTLink extension. It automatically sends out messages if designated nodes change and it automatically updates data in the scene from incoming OpenIGTLink messages.</p>
<p>pyigtl is to be used in external software (such as comsol), so that you can send data to or receive data from Slicer in real-time.</p>

---

## Post #8 by @Serg (2021-06-26 19:21 UTC)

<p>I didn’t realize that the data can be updated completely automatically!<br>
I want to try pyigtl within other than comsol environment, since native comsol doesn’t have a python api. Would be possible to upload an example/video/screenshot of your pyigtl test?<br>
Thank you!</p>

---

## Post #9 by @lassoan (2021-06-26 19:36 UTC)

<p>You can run pyigtl in any Python environment.</p>
<p>I would recommend to use a Python IDE, such as Visual Studio Code. There should be lots of tutorials online.</p>

---
