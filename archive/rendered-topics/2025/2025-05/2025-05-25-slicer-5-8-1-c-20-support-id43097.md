# Slicer 5.8.1 C++20 support

**Topic ID**: 43097
**Date**: 2025-05-25
**URL**: https://discourse.slicer.org/t/slicer-5-8-1-c-20-support/43097

---

## Post #1 by @sogo (2025-05-25 22:49 UTC)

<p><strong>Build config</strong><br>
Slicer Tag 5.8.1<br>
OS = Windows 11 pro 24H2<br>
Visual studio = 2019 v16.11.31, toolset v142<br>
CMake  3.28.0-rc2<br>
QT5  5.15.17</p>
<p>Hi, I am trying to build Slicer with variable “CMAKE_CXX_STANDARD” set to ‘20’ but running into errors for dependencies. While attaching some parts of build logs showing errors, complete logs can be shared. I wanted to confirm if above build configuration is okay and if Slicer can support building with C++20 version, please do let me know if any further information required.</p>
<blockquote>
<p>20&gt;No install step for ‘RapidJSON’<br>
20&gt;Completed ‘RapidJSON’<br>
6&gt;  lz_encoder_mf.c<br>
21&gt;  qRestResult.cpp<br>
6&gt;  fastpos_table.c<br>
26&gt;-- Performing Test HAVE_DIRENT_H - Failed<br>
26&gt;-- Performing Test HAVE_SYS_NDIR_H<br>
6&gt;  lzma2_decoder.c<br>
3&gt;-- Looking for sys/stat.h - found<br>
3&gt;-- Looking for unistd.h<br>
6&gt;  lzma2_encoder.c<br>
25&gt;-- Detecting C compiler ABI info - done<br>
25&gt;-- Check for working C compiler: C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/VC/Tools/MSVC/14.29.30133/bin/Hostx64/x64/cl.exe - skipped<br>
25&gt;-- Detecting C compile features<br>
25&gt;-- Detecting C compile features - done<br>
25&gt;-- Detecting CXX compiler ABI info<br>
25&gt;CMake Error in C:/D/bb/Slicer/DCMTK-build/CMakeFiles/CMakeScratch/TryCompile-dvyhe4/CMakeLists.txt:<br>
25&gt;  The target named “cmTC_c2835” has C++ sources that may use modules, but<br>
25&gt;  modules are not supported by this generator.  See the cmake-cxxmodules(7)<br>
25&gt;  manual and the CMAKE_CXX_SCAN_FOR_MODULES variable.<br>
25&gt;<br>
25&gt;<br>
25&gt;CMake Error in C:/D/bb/Slicer/DCMTK-build/CMakeFiles/CMakeScratch/TryCompile-dvyhe4/CMakeLists.txt:<br>
25&gt;  The target named “cmTC_c2835” has C++ sources that may use modules, but<br>
25&gt;  modules are not supported by this generator.  See the cmake-cxxmodules(7)<br>
25&gt;  manual and the CMAKE_CXX_SCAN_FOR_MODULES variable.<br>
25&gt;<br>
25&gt;<br>
25&gt;CMake Error in C:/D/bb/Slicer/DCMTK-build/CMakeFiles/CMakeScratch/TryCompile-dvyhe4/CMakeLists.txt:<br>
25&gt;  The target named “cmTC_c2835” has C++ sources that may use modules, but<br>
25&gt;  modules are not supported by this generator.  See the cmake-cxxmodules(7)<br>
25&gt;  manual and the CMAKE_CXX_SCAN_FOR_MODULES variable.<br>
25&gt;<br>
25&gt;<br>
25&gt;CMake Error in C:/D/bb/Slicer/DCMTK-build/CMakeFiles/CMakeScratch/TryCompile-dvyhe4/CMakeLists.txt:<br>
25&gt;  The target named “cmTC_c2835” has C++ sources that may use modules, but<br>
25&gt;  modules are not supported by this generator.  See the cmake-cxxmodules(7)<br>
25&gt;  manual and the CMAKE_CXX_SCAN_FOR_MODULES variable.<br>
25&gt;<br>
25&gt;<br>
25&gt;CMake Error in C:/D/bb/Slicer/DCMTK-build/CMakeFiles/CMakeScratch/TryCompile-dvyhe4/CMakeLists.txt:<br>
25&gt;  The target named “cmTC_c2835” has C++ sources that may use modules, but<br>
25&gt;  modules are not supported by this generator.  See the cmake-cxxmodules(7)<br>
25&gt;  manual and the CMAKE_CXX_SCAN_FOR_MODULES variable.<br>
25&gt;<br>
25&gt;<br>
25&gt;CMake Error in C:/D/bb/Slicer/DCMTK-build/CMakeFiles/CMakeScratch/TryCompile-dvyhe4/CMakeLists.txt:<br>
25&gt;  The target named “cmTC_c2835” has C++ sources that may use modules, but<br>
25&gt;  modules are not supported by this generator.  See the cmake-cxxmodules(7)<br>
25&gt;  manual and the CMAKE_CXX_SCAN_FOR_MODULES variable.<br>
25&gt;<br>
25&gt;<br>
25&gt;CMake Error in C:/D/bb/Slicer/DCMTK-build/CMakeFiles/CMakeScratch/TryCompile-dvyhe4/CMakeLists.txt:<br>
25&gt;  The target named “cmTC_c2835” has C++ sources that may use modules, but<br>
25&gt;  modules are not supported by this generator.  See the cmake-cxxmodules(7)<br>
25&gt;  manual and the CMAKE_CXX_SCAN_FOR_MODULES variable.<br>
25&gt;<br>
25&gt;<br>
25&gt;CMake Error in C:/D/bb/Slicer/DCMTK-build/CMakeFiles/CMakeScratch/TryCompile-dvyhe4/CMakeLists.txt:<br>
25&gt;  The target named “cmTC_c2835” has C++ sources that may use modules, but<br>
25&gt;  modules are not supported by this generator.  See the cmake-cxxmodules(7)<br>
25&gt;  manual and the CMAKE_CXX_SCAN_FOR_MODULES variable.<br>
25&gt;<br>
25&gt;<br>
25&gt;CMake Error at C:/Program Files/CMake/share/cmake-3.28/Modules/CMakeDetermineCompilerABI.cmake:57 (try_compile):<br>
25&gt;  Failed to generate test project build system.<br>
25&gt;Call Stack (most recent call first):<br>
25&gt;  C:/Program Files/CMake/share/cmake-3.28/Modules/CMakeTestCXXCompiler.cmake:26 (CMAKE_DETERMINE_COMPILER_ABI)<br>
25&gt;  CMakeLists.txt:5 (project)<br>
25&gt;<br>
25&gt;<br>
25&gt;-- Configuring incomplete, errors occurred!<br>
6&gt;  lzma_decoder.c<br>
25&gt;C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\MSBuild\Microsoft\VC\v160\Microsoft.CppCommon.targets(241,5): error MSB8066: Custom build for ‘C:\D\bb\Slicer\CMakeFiles\a74a0b095844deb4c181312ab40b5ea4\DCMTK-mkdir.rule;C:\D\bb\Slicer\CMakeFiles\a74a0b095844deb4c181312ab40b5ea4\DCMTK-download.rule;C:\D\bb\Slicer\CMakeFiles\a74a0b095844deb4c181312ab40b5ea4\DCMTK-update.rule;C:\D\bb\Slicer\CMakeFiles\a74a0b095844deb4c181312ab40b5ea4\DCMTK-patch.rule;C:\D\bb\Slicer\CMakeFiles\a74a0b095844deb4c181312ab40b5ea4\DCMTK-configure.rule;C:\D\bb\Slicer\CMakeFiles\a74a0b095844deb4c181312ab40b5ea4\DCMTK-build.rule;C:\D\bb\Slicer\CMakeFiles\a74a0b095844deb4c181312ab40b5ea4\DCMTK-generate_project_description.rule;C:\D\bb\Slicer\CMakeFiles\a74a0b095844deb4c181312ab40b5ea4\DCMTK-install.rule;C:\D\bb\Slicer\CMakeFiles\a77f4a0adba767bf958116c8b11e7004\DCMTK-complete.rule;C:\D\bb\Slicer\CMakeFiles\c326b9adf37e782152a9db02077a0894\DCMTK.rule;C:\D\Slicer\CMakeLists.txt’ exited with code 1.<br>
25&gt;Done building project “DCMTK.vcxproj” – FAILED.<br>
6&gt;  lzma_encoder.c<br>
26&gt;-- Performing Test HAVE_SYS_NDIR_H - Failed<br>
6&gt;  Generating Code…</p>
</blockquote>
<blockquote>
<p>45&gt;  encodingRaw.c<br>
45&gt;  encodingZRL.c<br>
44&gt;-- The C compiler identification is MSVC 19.29.30152.0<br>
45&gt;  endianNrrd.c<br>
45&gt;  Generating Code…<br>
44&gt;-- Detecting CXX compiler ABI info<br>
44&gt;CMake Error in C:/D/bb/Slicer/ITK-build/CMakeFiles/CMakeScratch/TryCompile-xpji6u/CMakeLists.txt:<br>
44&gt;  The target named “cmTC_cebee” has C++ sources that may use modules, but<br>
44&gt;  modules are not supported by this generator.  See the cmake-cxxmodules(7)<br>
44&gt;  manual and the CMAKE_CXX_SCAN_FOR_MODULES variable.<br>
44&gt;<br>
44&gt;<br>
44&gt;CMake Error in C:/D/bb/Slicer/ITK-build/CMakeFiles/CMakeScratch/TryCompile-xpji6u/CMakeLists.txt:<br>
44&gt;  The target named “cmTC_cebee” has C++ sources that may use modules, but<br>
44&gt;  modules are not supported by this generator.  See the cmake-cxxmodules(7)<br>
44&gt;  manual and the CMAKE_CXX_SCAN_FOR_MODULES variable.<br>
44&gt;<br>
44&gt;<br>
44&gt;CMake Error in C:/D/bb/Slicer/ITK-build/CMakeFiles/CMakeScratch/TryCompile-xpji6u/CMakeLists.txt:<br>
44&gt;  The target named “cmTC_cebee” has C++ sources that may use modules, but<br>
44&gt;  modules are not supported by this generator.  See the cmake-cxxmodules(7)<br>
44&gt;  manual and the CMAKE_CXX_SCAN_FOR_MODULES variable.<br>
44&gt;<br>
44&gt;<br>
44&gt;CMake Error in C:/D/bb/Slicer/ITK-build/CMakeFiles/CMakeScratch/TryCompile-xpji6u/CMakeLists.txt:<br>
44&gt;  The target named “cmTC_cebee” has C++ sources that may use modules, but<br>
44&gt;  modules are not supported by this generator.  See the cmake-cxxmodules(7)<br>
44&gt;  manual and the CMAKE_CXX_SCAN_FOR_MODULES variable.<br>
44&gt;<br>
44&gt;<br>
44&gt;CMake Error in C:/D/bb/Slicer/ITK-build/CMakeFiles/CMakeScratch/TryCompile-xpji6u/CMakeLists.txt:<br>
44&gt;  The target named “cmTC_cebee” has C++ sources that may use modules, but<br>
44&gt;  modules are not supported by this generator.  See the cmake-cxxmodules(7)<br>
44&gt;  manual and the CMAKE_CXX_SCAN_FOR_MODULES variable.<br>
44&gt;<br>
44&gt;<br>
44&gt;CMake Error in C:/D/bb/Slicer/ITK-build/CMakeFiles/CMakeScratch/TryCompile-xpji6u/CMakeLists.txt:<br>
44&gt;  The target named “cmTC_cebee” has C++ sources that may use modules, but<br>
44&gt;  modules are not supported by this generator.  See the cmake-cxxmodules(7)<br>
44&gt;  manual and the CMAKE_CXX_SCAN_FOR_MODULES variable.<br>
44&gt;<br>
44&gt;<br>
44&gt;CMake Error in C:/D/bb/Slicer/ITK-build/CMakeFiles/CMakeScratch/TryCompile-xpji6u/CMakeLists.txt:<br>
44&gt;  The target named “cmTC_cebee” has C++ sources that may use modules, but<br>
44&gt;  modules are not supported by this generator.  See the cmake-cxxmodules(7)<br>
44&gt;  manual and the CMAKE_CXX_SCAN_FOR_MODULES variable.<br>
44&gt;<br>
44&gt;<br>
44&gt;CMake Error in C:/D/bb/Slicer/ITK-build/CMakeFiles/CMakeScratch/TryCompile-xpji6u/CMakeLists.txt:<br>
44&gt;  The target named “cmTC_cebee” has C++ sources that may use modules, but<br>
44&gt;  modules are not supported by this generator.  See the cmake-cxxmodules(7)<br>
44&gt;  manual and the CMAKE_CXX_SCAN_FOR_MODULES variable.<br>
44&gt;<br>
44&gt;<br>
44&gt;CMake Error at C:/Program Files/CMake/share/cmake-3.28/Modules/CMakeDetermineCompilerABI.cmake:57 (try_compile):<br>
44&gt;  Failed to generate test project build system.<br>
44&gt;Call Stack (most recent call first):<br>
44&gt;  C:/Program Files/CMake/share/cmake-3.28/Modules/CMakeTestCXXCompiler.cmake:26 (CMAKE_DETERMINE_COMPILER_ABI)<br>
44&gt;  CMakeLists.txt:46 (project)<br>
44&gt;<br>
44&gt;<br>
44&gt;-- Configuring incomplete, errors occurred!<br>
44&gt;C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\MSBuild\Microsoft\VC\v160\Microsoft.CppCommon.targets(241,5): error MSB8066: Custom build for ‘C:\D\bb\Slicer\CMakeFiles\d47da4aa6ea3985cbad0d74a0ec5e847\ITK-mkdir.rule;C:\D\bb\Slicer\CMakeFiles\d47da4aa6ea3985cbad0d74a0ec5e847\ITK-download.rule;C:\D\bb\Slicer\CMakeFiles\d47da4aa6ea3985cbad0d74a0ec5e847\ITK-update.rule;C:\D\bb\Slicer\CMakeFiles\d47da4aa6ea3985cbad0d74a0ec5e847\ITK-patch.rule;C:\D\bb\Slicer\CMakeFiles\d47da4aa6ea3985cbad0d74a0ec5e847\ITK-configure.rule;C:\D\bb\Slicer\CMakeFiles\d47da4aa6ea3985cbad0d74a0ec5e847\ITK-build.rule;C:\D\bb\Slicer\CMakeFiles\d47da4aa6ea3985cbad0d74a0ec5e847\ITK-generate_project_description.rule;C:\D\bb\Slicer\CMakeFiles\d47da4aa6ea3985cbad0d74a0ec5e847\ITK-install.rule;C:\D\bb\Slicer\CMakeFiles\a77f4a0adba767bf958116c8b11e7004\ITK-complete.rule;C:\D\bb\Slicer\CMakeFiles\c326b9adf37e782152a9db02077a0894\ITK.rule;C:\D\Slicer\CMakeLists.txt’ exited with code 1.<br>
44&gt;Done building project “ITK.vcxproj” – FAILED.<br>
46&gt;------ Build started: Project: SimpleITK, Configuration: Release x64 ------<br>
47&gt;------ Build started: Project: SlicerExecutionModel, Configuration: Release x64 ------<br>
48&gt;------ Build started: Project: CTK, Configuration: Release x64 ------<br>
47&gt;Creating directories for ‘SlicerExecutionModel’<br>
46&gt;Creating directories for ‘SimpleITK’<br>
48&gt;Creating directories for ‘CTK’<br>
47&gt;Building Custom Rule C:/D/Slicer/CMakeLists.txt</p>
</blockquote>
<blockquote>
<p>45&gt;  vecEll.c<br>
45&gt;  fft.c<br>
45&gt;  Generating Code…<br>
47&gt;Generate version-SlicerExecutionModel.txt and license-SlicerExecutionModel.txt<br>
47&gt;No patch step for ‘SlicerExecutionModel’<br>
47&gt;Performing configure step for ‘SlicerExecutionModel’<br>
47&gt;loading initial cache file C:/D/bb/Slicer/SlicerExecutionModel-prefix/tmp/SlicerExecutionModel-cache-Release.cmake<br>
47&gt;CMake Error at CMakeLists.txt:21 (message):<br>
47&gt;-- Configuring incomplete, errors occurred!<br>
47&gt;  CMAKE_CXX_STANDARD:STRING=20 not in know standards list<br>
47&gt;<br>
47&gt;   11;14;17.<br>
47&gt;<br>
47&gt;<br>
47&gt;C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\MSBuild\Microsoft\VC\v160\Microsoft.CppCommon.targets(241,5): error MSB8066: Custom build for ‘C:\D\bb\Slicer\CMakeFiles\fd0726319a778a589086e30dc392beda\SlicerExecutionModel-mkdir.rule;C:\D\bb\Slicer\CMakeFiles\fd0726319a778a589086e30dc392beda\SlicerExecutionModel-download.rule;C:\D\bb\Slicer\CMakeFiles\fd0726319a778a589086e30dc392beda\SlicerExecutionModel-update.rule;C:\D\bb\Slicer\CMakeFiles\fd0726319a778a589086e30dc392beda\SlicerExecutionModel-patch.rule;C:\D\bb\Slicer\CMakeFiles\fd0726319a778a589086e30dc392beda\SlicerExecutionModel-configure.rule;C:\D\bb\Slicer\CMakeFiles\fd0726319a778a589086e30dc392beda\SlicerExecutionModel-build.rule;C:\D\bb\Slicer\CMakeFiles\fd0726319a778a589086e30dc392beda\SlicerExecutionModel-generate_project_description.rule;C:\D\bb\Slicer\CMakeFiles\fd0726319a778a589086e30dc392beda\SlicerExecutionModel-install.rule;C:\D\bb\Slicer\CMakeFiles\a77f4a0adba767bf958116c8b11e7004\SlicerExecutionModel-complete.rule;C:\D\bb\Slicer\CMakeFiles\c326b9adf37e782152a9db02077a0894\SlicerExecutionModel.rule;C:\D\Slicer\CMakeLists.txt’ exited with code 1.<br>
47&gt;Done building project “SlicerExecutionModel.vcxproj” – FAILED.<br>
46&gt;-- Detecting C compiler ABI info - done<br>
46&gt;-- Check for working C compiler: C:/Program Files (x86)/Microsoft Visual Studio/2019/Community/VC/Tools/MSVC/14.29.30133/bin/Hostx64/x64/cl.exe - skipped<br>
46&gt;-- Detecting C compile features<br>
46&gt;-- Detecting C compile features - done<br>
46&gt;-- Detecting CXX compiler ABI info</p>
</blockquote>
<blockquote>
<p>8&gt;    are removed.  Run “cmake --help-policy CMP0148” for policy details.  Use<br>
48&gt;    the cmake_policy command to set the policy and suppress this warning.<br>
48&gt;<br>
48&gt;  This warning is for project developers.  Use -Wno-dev to suppress it.<br>
48&gt;<br>
48&gt;  – Found PythonInterp: C:/D/bb/Slicer/python-install/bin/PythonSlicer.exe (found version “3.9.10”)<br>
48&gt;  CMake Warning (dev) at CMakeLists.txt:890 (find_package):<br>
48&gt;    Policy CMP0148 is not set: The FindPythonInterp and FindPythonLibs modules<br>
48&gt;    are removed.  Run “cmake --help-policy CMP0148” for policy details.  Use<br>
48&gt;    the cmake_policy command to set the policy and suppress this warning.<br>
48&gt;<br>
48&gt;  This warning is for project developers.  Use -Wno-dev to suppress it.<br>
48&gt;<br>
48&gt;  – Found PythonLibs: C:/D/bb/Slicer/python-install/libs/python39.lib (found version “3.9.10”)<br>
48&gt;  – Generated: C:/D/bb/Slicer/CTK-build/CTK-build/DGraphInput.txt<br>
48&gt;  – Configuring CTK with Qt 5.15.17 (using modules: Core, Svg, Xml, XmlPatterns, Sql, Multimedia, Widgets, OpenGL, UiTools, Designer)<br>
48&gt;  – SuperBuild - First pass<br>
48&gt;  – SuperBuild - First pass - done<br>
48&gt;  – Trying to find DCMTK expecting DCMTKConfig.cmake<br>
48&gt;  – Trying to find DCMTK expecting DCMTKConfig.cmake - failed<br>
48&gt;  – Trying to find DCMTK relying on FindDCMTK.cmake<br>
48&gt;  CMake Error at C:/Program Files/CMake/share/cmake-3.28/Modules/FindPackageHandleStandardArgs.cmake:230 (message):<br>
48&gt;    Please set DCMTK_DIR and re-run configure (missing:<br>
48&gt;    DCMTK_config_INCLUDE_DIR)<br>
48&gt;  Call Stack (most recent call first):<br>
48&gt;    C:/Program Files/CMake/share/cmake-3.28/Modules/FindPackageHandleStandardArgs.cmake:600 (_FPHSA_FAILURE_MESSAGE)<br>
48&gt;    Utilities/CMake/FindDCMTK.cmake:327 (find_package_handle_standard_args)<br>
48&gt;    CMakeLists.txt:997 (find_package)<br>
48&gt;<br>
48&gt;<br>
48&gt;  – Configuring incomplete, errors occurred!<br>
48&gt;C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\MSBuild\Microsoft\VC\v160\Microsoft.CppCommon.targets(241,5): error MSB8066: Custom build for ‘C:\D\bb\Slicer\CTK-build\CMakeFiles\03e53808ebed25d16564696bcaaf3841\CTK-mkdir.rule;C:\D\bb\Slicer\CTK-build\CMakeFiles\03e53808ebed25d16564696bcaaf3841\CTK-download.rule;C:\D\bb\Slicer\CTK-build\CMakeFiles\03e53808ebed25d16564696bcaaf3841\CTK-update.rule;C:\D\bb\Slicer\CTK-build\CMakeFiles\03e53808ebed25d16564696bcaaf3841\CTK-patch.rule;C:\D\bb\Slicer\CTK-build\CMakeFiles\03e53808ebed25d16564696bcaaf3841\CTK-configure.rule;C:\D\bb\Slicer\CTK-build\CMakeFiles\03e53808ebed25d16564696bcaaf3841\CTK-build.rule;C:\D\bb\Slicer\CTK-build\CMakeFiles\03e53808ebed25d16564696bcaaf3841\CTK-forceconfigure.rule;C:\D\bb\Slicer\CTK-build\CMakeFiles\03e53808ebed25d16564696bcaaf3841\CTK-install.rule;C:\D\bb\Slicer\CTK-build\CMakeFiles\dcfcaf82782c59c3458cd46f49d9817d\CTK-complete.rule;C:\D\bb\Slicer\CTK-build\CMakeFiles\b883b48fd579185efc6926a2e2aae55c\CTK.rule;C:\D\bb\Slicer\CTK\CMakeLists.txt’ exited with code 1. [C:\D\bb\Slicer\CTK-build\CTK.vcxproj]<br>
48&gt;C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\MSBuild\Microsoft\VC\v160\Microsoft.CppCommon.targets(241,5): error MSB8066: Custom build for ‘C:\D\bb\Slicer\CMakeFiles\523543b2c77f51bbe247b526aec70c27\CTK-mkdir.rule;C:\D\bb\Slicer\CMakeFiles\523543b2c77f51bbe247b526aec70c27\CTK-download.rule;C:\D\bb\Slicer\CMakeFiles\523543b2c77f51bbe247b526aec70c27\CTK-update.rule;C:\D\bb\Slicer\CMakeFiles\523543b2c77f51bbe247b526aec70c27\CTK-patch.rule;C:\D\bb\Slicer\CMakeFiles\523543b2c77f51bbe247b526aec70c27\CTK-configure.rule;C:\D\bb\Slicer\CMakeFiles\523543b2c77f51bbe247b526aec70c27\CTK-build.rule;C:\D\bb\Slicer\CMakeFiles\523543b2c77f51bbe247b526aec70c27\CTK-generate_project_description.rule;C:\D\bb\Slicer\CMakeFiles\523543b2c77f51bbe247b526aec70c27\CTK-install.rule;C:\D\bb\Slicer\CMakeFiles\a77f4a0adba767bf958116c8b11e7004\CTK-complete.rule;C:\D\bb\Slicer\CMakeFiles\c326b9adf37e782152a9db02077a0894\CTK.rule;C:\D\Slicer\CMakeLists.txt’ exited with code 1.<br>
48&gt;Done building project “CTK.vcxproj” – FAILED.<br>
49&gt;------ Build started: Project: Slicer, Configuration: Release x64 ------<br>
49&gt;Creating directories for ‘Slicer’<br>
49&gt;Building Custom Rule C:/D/Slicer/CMakeLists.txt<br>
49&gt;No download step for ‘Slicer’<br>
49&gt;No update step for ‘Slicer’<br>
49&gt;No patch step for ‘Slicer’<br>
49&gt;Performing configure step for ‘Slicer’<br>
49&gt;loading initial cache file C:/D/bb/Slicer/Slicer-prefix/tmp/Slicer-cache-Release.cmake<br>
49&gt;-- Setting C++ standard<br>
49&gt;-- Setting C++ standard - C++20<br>
49&gt;-- Selecting Windows SDK version 10.0.19041.0 to target Windows 10.0.26100.</p>
</blockquote>
<blockquote>
<p>49&gt;-- Configuring Slicer with Qt 5.15.17 (using modules: Core, Widgets, Network, OpenGL, PrintSupport, UiTools, Xml, XmlPatterns, Svg, Sql, Multimedia, MultimediaWidgets, WebEngine, WebEngineWidgets, WebChannel, Qml, LinguistTools, Test, )<br>
49&gt;-- Setting QT_PLUGINS_DIR: C:/Qt/5.15.17/msvc2019_64/plugins<br>
49&gt;-- Setting QT_BINARY_DIR: C:/Qt/5.15.17/msvc2019_64/bin<br>
49&gt;-- Setting QT_LIBRARY_DIR: C:/Qt/5.15.17/msvc2019_64/lib<br>
49&gt;-- Setting ExternalData_OBJECT_STORES to ‘C:/D/bb/Slicer/ExternalData/Objects’<br>
49&gt;-- Configuring Slicer for [win-amd64]<br>
49&gt;-- Found Python3: C:/D/bb/Slicer/python-install/bin/PythonSlicer.exe (found suitable version “3.9.10”, minimum required is “3.9”) found components: Interpreter Development.Module Development.Embed<br>
49&gt;-- Performing Test CMAKE_HAVE_LIBC_PTHREAD<br>
49&gt;-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Failed<br>
49&gt;-- Looking for pthread_create in pthreads<br>
49&gt;-- Looking for pthread_create in pthreads - not found<br>
49&gt;-- Looking for pthread_create in pthread<br>
49&gt;-- Looking for pthread_create in pthread - not found<br>
49&gt;-- Found Threads: TRUE<br>
49&gt;-- Found OpenGL: opengl32  found components: OpenGL<br>
49&gt;CMake Error at CMakeLists.txt:904 (find_package):<br>
49&gt;  By not providing “FindCTK.cmake” in CMAKE_MODULE_PATH this project has<br>
49&gt;  asked CMake to find a package configuration file provided by “CTK”, but<br>
49&gt;  CMake did not find one.<br>
49&gt;<br>
49&gt;  Could not find a package configuration file provided by “CTK” with any of<br>
49&gt;  the following names:<br>
49&gt;<br>
49&gt;    CTKConfig.cmake<br>
49&gt;    ctk-config.cmake<br>
49&gt;<br>
49&gt;  Add the installation prefix of “CTK” to CMAKE_PREFIX_PATH or set “CTK_DIR”<br>
49&gt;  to a directory containing one of the above files.  If “CTK” provides a<br>
49&gt;  separate development package or SDK, be sure it has been installed.<br>
49&gt;<br>
49&gt;<br>
49&gt;-- Configuring incomplete, errors occurred!<br>
49&gt;C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\MSBuild\Microsoft\VC\v160\Microsoft.CppCommon.targets(241,5): error MSB8066: Custom build for ‘C:\D\bb\Slicer\CMakeFiles\16e2979522ca4937c1f557f267b66239\Slicer-mkdir.rule;C:\D\bb\Slicer\CMakeFiles\16e2979522ca4937c1f557f267b66239\Slicer-download.rule;C:\D\bb\Slicer\CMakeFiles\16e2979522ca4937c1f557f267b66239\Slicer-update.rule;C:\D\bb\Slicer\CMakeFiles\16e2979522ca4937c1f557f267b66239\Slicer-patch.rule;C:\D\bb\Slicer\CMakeFiles\16e2979522ca4937c1f557f267b66239\Slicer-configure.rule;C:\D\bb\Slicer\CMakeFiles\16e2979522ca4937c1f557f267b66239\Slicer-build.rule;C:\D\bb\Slicer\CMakeFiles\16e2979522ca4937c1f557f267b66239\Slicer-forceconfigure.rule;C:\D\bb\Slicer\CMakeFiles\16e2979522ca4937c1f557f267b66239\Slicer-install.rule;C:\D\bb\Slicer\CMakeFiles\a77f4a0adba767bf958116c8b11e7004\Slicer-complete.rule;C:\D\bb\Slicer\CMakeFiles\c326b9adf37e782152a9db02077a0894\Slicer.rule;C:\D\Slicer\CMakeLists.txt’ exited with code 1.<br>
49&gt;Done building project “Slicer.vcxproj” – FAILED.<br>
50&gt;------ Skipped Build: Project: ALL_BUILD, Configuration: Release x64 ------<br>
50&gt;Project not selected to build for this solution configuration<br>
========== Build: 41 succeeded, 6 failed, 0 up-to-date, 3 skipped ==========</p>
</blockquote>

---

## Post #2 by @jamesobutler (2025-05-25 23:16 UTC)

<p>Slicer is generally tested only for C++17. Newer standards are experimental to try and building. You can try building latest Slicer from the <code>main</code> branch as there has been dependency updates since 5.8.1 that may have C++20 fixes.</p>
<p>Feel free to issue PRs to support building as C++20. As you posted, there are some dependencies that simply don’t even attempt building as C++20 yet which you can change locally to see if it will work. For example your results included SlicerExecutionModel which doesn’t allow it.</p>
<aside class="onebox githubblob" data-onebox-src="https://github.com/Slicer/SlicerExecutionModel/blob/91b921bd5977c3384916ba4b03705d87b26067f7/CMakeLists.txt#L19">
  <header class="source">

      <a href="https://github.com/Slicer/SlicerExecutionModel/blob/91b921bd5977c3384916ba4b03705d87b26067f7/CMakeLists.txt#L19" target="_blank" rel="noopener nofollow ugc">github.com/Slicer/SlicerExecutionModel</a>
  </header>

  <article class="onebox-body">
    <h4><a href="https://github.com/Slicer/SlicerExecutionModel/blob/91b921bd5977c3384916ba4b03705d87b26067f7/CMakeLists.txt#L19" target="_blank" rel="noopener nofollow ugc">CMakeLists.txt</a></h4>

<div class="git-blob-info">
  <a href="https://github.com/Slicer/SlicerExecutionModel/blob/91b921bd5977c3384916ba4b03705d87b26067f7/CMakeLists.txt#L19" rel="noopener nofollow ugc"><code>91b921bd5</code></a>
</div>



    <pre class="onebox"><code class="lang-txt">
      <ol class="start lines" start="9" style="counter-reset: li-counter 8 ;">
          <li>##  Set the default target language standard properties</li>
          <li>if(NOT CMAKE_CXX_STANDARD)</li>
          <li>  set(CMAKE_CXX_STANDARD 11) # Supported values are ``11``, ``14``, and ``17``.</li>
          <li>endif()</li>
          <li>if(NOT CMAKE_CXX_STANDARD_REQUIRED)</li>
          <li>  set(CMAKE_CXX_STANDARD_REQUIRED ON)</li>
          <li>endif()</li>
          <li>if(NOT CMAKE_CXX_EXTENSIONS)</li>
          <li>  set(CMAKE_CXX_EXTENSIONS OFF)</li>
          <li>endif()</li>
          <li class="selected">set(VALID_CXX_STANDARDS "11" "14" "17")</li>
          <li>if(NOT CMAKE_CXX_STANDARD IN_LIST VALID_CXX_STANDARDS )</li>
          <li>   message(FATAL_ERROR "CMAKE_CXX_STANDARD:STRING=${CMAKE_CXX_STANDARD} not in know standards list\n ${VALID_CXX_STANDARDS}.")</li>
          <li>endif()</li>
          <li></li>
          <li>project(SlicerExecutionModel</li>
          <li>        VERSION 2.0.0  #Starting at version 2.0.0, C++11 is required</li>
          <li>        DESCRIPTION    "An open-source CMake-based project that provides macros and associated tools for the easy building of 3D Slicer command line interface (CLI) modules."</li>
          <li>        HOMEPAGE_URL   "https://github.com/Slicer/SlicerExecutionModel"</li>
          <li>        LANGUAGES C CXX)</li>
          <li></li>
      </ol>
    </code></pre>



  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>


---

## Post #3 by @sogo (2025-05-27 03:08 UTC)

<p>Hi James, thank you for quick response. I do am working on top of stable release so probably would like to stick to 5.8.1. Would look into main branch for any C++20 fixes. Before I close this thread, I can try adding “20” as “VALID_CXX_STANDARDS” and build for slicer execution model. But for the following error, I am not sure how to begin finding modules not supported by the generator in ITK and DCMTK.</p>
<blockquote>
<p>44&gt;CMake Error in C:/D/bb/Slicer/ITK-build/CMakeFiles/CMakeScratch/TryCompile-xpji6u/CMakeLists.txt:<br>
44&gt; The target named “cmTC_cebee” has C++ sources that may use modules, but<br>
44&gt; modules are not supported by this generator. See the cmake-cxxmodules(7)<br>
44&gt; manual and the CMAKE_CXX_SCAN_FOR_MODULES variable.</p>
</blockquote>

---

## Post #4 by @jamesobutler (2025-05-27 11:37 UTC)

<p>Most of the dependencies for Slicer do not support C++20 explicitly. You will be in an area of experimentation which is why I suggested using latest Slicer <code>main</code> which is not anymore unstable and will likely have C++20 compatibility fixes in various recent dependency updates such as DCMTK and VTK.</p>
<aside class="quote no-group" data-username="sogo" data-post="1" data-topic="43097">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="https://avatars.discourse-cdn.com/v4/letter/s/779978/48.png" class="avatar"> sogo:</div>
<blockquote>
<p>Visual studio = 2019 v16.11.31, toolset v142</p>
</blockquote>
</aside>
<p>Slicer is primarily tested with Visual Studio 2022 and the v143 toolset. It was used to actually build Slicer 5.8.1 stable.</p>
<aside class="quote no-group" data-username="sogo" data-post="1" data-topic="43097">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="https://avatars.discourse-cdn.com/v4/letter/s/779978/48.png" class="avatar"> sogo:</div>
<blockquote>
<p>CMake 3.28.0-rc2</p>
</blockquote>
</aside>
<p>Is there a reason you are also not using a stable release of CMake? It appears you are using a preview release candidate build. I generally use an official stable release of CMake. Version 3.31.7 could be a good choice.</p>

---

## Post #5 by @sogo (2025-05-30 03:25 UTC)

<p>Hi James,<br>
Thank you for the test configuration for Slicer 5.8.1, but we have our own external dependencies which are not ready for this upgrade yet. CMake I do am planning to update to newer version, thanks for suggesting 3.31.7, I’ll opt for that one. Closing this thread as I got what I needed. Really appreciate your help. On the side, will continue on C++20 and see if can fix some of these issues.</p>

---
