---
topic_id: 42377
title: "Slicer Build Error"
date: 2025-03-31
url: https://discourse.slicer.org/t/42377
---

# Slicer build Error

**Topic ID**: 42377
**Date**: 2025-03-31
**URL**: https://discourse.slicer.org/t/slicer-build-error/42377

---

## Post #1 by @zhuofalin (2025-03-31 04:37 UTC)

<p>Recently, I used cmake to compile the latest version of 3dSlicer and encountered many problems. I would like to ask you for advice. <img src="https://emoji.discourse-cdn.com/twitter/rofl.png?v=14" title=":rofl:" class="emoji" alt=":rofl:" loading="lazy" width="20" height="20"></p>
<hr>
<p><strong>Build Environment</strong></p>
<pre><code class="lang-auto">System: Windows 10 22H2
Cmake: 4.0.0
</code></pre>
<hr>
<p><strong>Build Steps</strong></p>
<pre><code class="lang-auto">1. Use Cmake-Gui to configure and generate slicer.sln;
2. Execute the following command
</code></pre>
<pre data-code-wrap="shell"><code class="lang-shell">"C:\Program Files\CMake\bin\cmake.exe" --build C:\D\SD --config Debug
</code></pre>
<hr>
<p>Error List:</p>
<ol>
<li><strong>Build Error One</strong></li>
</ol>
<pre><code class="lang-auto">CMake Error at CMakeLists.txt:555 (install):
    The file

      E:/build/teem-build/TeemLibraryDepends.cmake

    was generated by the export() command.  It may not be installed with the
    install() command.  Use the install(EXPORT) mechanism instead.  See the
    cmake-packages(7) manual for more.


  -- Configuring incomplete, errors occurred!
D:\vs2022\MSBuild\Microsoft\VC\v170\Microsoft.CppCommon.targets(254,5): error MSB8066: “E:\build\CMakeFiles\d0f89a43b6a
893837f2c66fd8fcc6b20\teem-update.rule;E:\build\CMakeFiles\d0f89a43b6a893837f2c66fd8fcc6b20\teem-patch.rule;E:\build\CM
akeFiles\d0f89a43b6a893837f2c66fd8fcc6b20\teem-configure.rule;E:\build\CMakeFiles\d0f89a43b6a893837f2c66fd8fcc6b20\teem
-build.rule;E:\build\CMakeFiles\d0f89a43b6a893837f2c66fd8fcc6b20\teem-install.rule;E:\build\CMakeFiles\a3ae6876636e24da
322ce04f92645239\teem-complete.rule;E:\build\CMakeFiles\d5760513ab1ffb7a106b6869ee861bc4\teem.rule”的自定义生成已退出，代码为 1。 [E:
\build\teem.vcxproj]
</code></pre>
<ol start="2">
<li>Build Other-Type Info</li>
</ol>
<pre><code class="lang-auto">CMake Deprecation Warning at CMakeLists.txt:21 (cmake_minimum_required):
    Compatibility with CMake &lt; 3.10 will be removed from a future version of
    CMake.

    Update the VERSION argument &lt;min&gt; value.  Or, use the &lt;min&gt;...&lt;max&gt; syntax
    to tell CMake that the project requires at least &lt;min&gt; but has been updated
    to work with policies introduced by &lt;max&gt; or earlier.
</code></pre>

---

## Post #2 by @pieper (2025-03-31 18:04 UTC)

<p>It’s possible the build isn’t working due to locale issues (I notice some non-ascii characters in the output).</p>

---

## Post #3 by @zhuofalin (2025-04-16 00:32 UTC)

<p>Thanks for your reply <img src="https://emoji.discourse-cdn.com/twitter/kissing_face_with_closed_eyes.png?v=14" title=":kissing_face_with_closed_eyes:" class="emoji" alt=":kissing_face_with_closed_eyes:" loading="lazy" width="20" height="20"></p>

---

## Post #4 by @lassoan (2025-04-16 13:28 UTC)

<p>It is CMake 4. CMake 4 has been released recently and it is incompatible with most projects, including Slicer. The solution is to use CMake 3.x.</p>
<p>I ran into this problem a week ago, I had to help someone yesterday, and there is report here. Probably dozens of more people encountered this problem and did not report.</p>
<p>As a workaround, I’ve submitted a <a href="https://github.com/Slicer/Slicer/pull/8381">PR to update the build instructions</a> for latest stable and main branches, but we should make the main branch compatible with CMake 4.</p>
<p><a class="mention" href="/u/jcfr">@jcfr</a> what approach do you recommend?</p>

---

## Post #5 by @chir.set (2025-04-16 16:12 UTC)

<aside class="quote no-group" data-username="lassoan" data-post="4" data-topic="42377">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="https://sea2.discourse-cdn.com/flex002/user_avatar/discourse.slicer.org/lassoan/48/13_2.png" class="avatar"> lassoan:</div>
<blockquote>
<p>make the main branch compatible with CMake 4</p>
</blockquote>
</aside>
<p>There are many many files concerned in the build tree, see below. I quickly reinstalled cmake 3 for a seamless build. Using<code> -DCMAKE_POLICY_VERSION_MINIMUM=3.5</code> in the superbuild cmake files did not help.</p>
<pre><code class="lang-auto">------------------------------------------------------------------------------
2.x

./RapidJSON/thirdparty/gtest/CMakeLists.txt
./RapidJSON/thirdparty/gtest/googlemock/CMakeLists.txt
./RapidJSON/thirdparty/gtest/googletest/CMakeLists.txt
./RapidJSON/example/CMakeLists.txt
./VTK/ThirdParty/xdmf2/vtkxdmf2/CMakeLists.txt
./VTK/ThirdParty/ogg/vtkogg/CMakeLists.txt
./VTK/ThirdParty/xdmf3/vtkxdmf3/CMakeLists.txt
./VTK/ThirdParty/eigen/vtkeigen/CMakeLists.txt
./VTK/ThirdParty/zlib/vtkzlib/CMakeLists.txt
./ITK/Modules/ThirdParty/GDCM/src/gdcm/Utilities/gdcmopenjpeg/CMakeLists.txt
./ITK/Modules/ThirdParty/GDCM/src/gdcm/Utilities/gdcmcharls/CMakeLists.txt
./ITK/Modules/ThirdParty/GDCM/src/gdcm/Utilities/gdcmjpeg/CMakeLists.txt
./ITK/Modules/ThirdParty/GDCM/src/gdcm/Utilities/socketxx/CMakeLists.txt
./ITK/Modules/ThirdParty/GDCM/src/gdcm/Utilities/gdcmuuid/CMakeLists.txt
./ITK/Modules/ThirdParty/GDCM/src/gdcm/Utilities/gdcmmd5/CMakeLists.txt
./CTK-build/PythonQt/generator/CMakeLists.txt
./CTK/Libs/Core/CMake/TestBFD/CMakeLists.txt
./zlib/CMakeLists.txt
./teem/CMakeLists.txt
./teem/Examples/sanity/CMakeLists.txt
./teem/UseTeemCMakeDemo/CMakeLists.txt

------------------------------------------------------------------------------
3.0

./VTK/Utilities/KWIML/vtkkwiml/CMakeLists.txt
./curl/CMakeLists.txt
./CTK/CMake/ctkLinkerAsNeededFlagCheck/CMakeLists.txt
./CTKAppLauncherLib/Testing/LauncherLib/AppWithLauncherLib/CMakeLists.txt
./CTKAppLauncherLib/Testing/Launcher/App4ConfigureLauncherTest/CMakeLists.txt
./CTKAppLauncherLib/Testing/Launcher/App4Test/CMakeLists.txt
./CTKAppLauncherLib/CMakeLists.txt

------------------------------------------------------------------------------
3.1

./Slicer-build/_CPack_Packages/linux-amd64/TGZ/Slicer-5.9.0-2025-04-13-linux-amd64/share/Slicer-5.9/Wizard/Templates/Extensions/SuperBuild/CMakeLists.txt
./Slicer-build/_CPack_Packages/linux-amd64/TGZ/Slicer-5.9.0-2025-04-13-linux-amd64/share/Slicer-5.9/Wizard/Templates/Extensions/Default/CMakeLists.txt
./VTK/CMakeLists.txt
./VTK/Examples/Emscripten/Cxx/MultiCone/CMakeLists.txt
./VTK/Examples/Emscripten/Cxx/ConeMultiBackend/CMakeLists.txt
./VTK/Examples/Emscripten/Cxx/WrappedMace/CMakeLists.txt
./VTK/Examples/Emscripten/Cxx/Cone/CMakeLists.txt
./VTK/Examples/CMakeLists.txt
./VTK/Examples/GUI/QML/QtQuickChartsOn3DScene/CMakeLists.txt
./VTK/Examples/GUI/QML/QtQuickBoxWidget/CMakeLists.txt
./VTK/Examples/GUI/QML/QtQuickCone/CMakeLists.txt
./VTK/Examples/GUI/QML/QtQuickProperty/CMakeLists.txt
./VTK/ThirdParty/libxml2/vtklibxml2/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/ising/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/hello_worklet/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/multi_backend/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/logistic_map/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/cosmotools/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/contour_tree/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/contour_tree_distributed/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/mesh_quality/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/demo/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/temporal_advection/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/histogram/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/polyline_archimedean_helix/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/redistribute_points/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/clipping/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/streamline_mpi/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/lagrangian_structures/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/particle_advection/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/oscillator/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/contour_tree_augmented/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/game_of_life/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/lagrangian/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/smoke_test/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/examples/tetrahedra/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/CMakeLists.txt
./VTK/ThirdParty/vtkm/vtkvtkm/vtk-m/tutorial/CMakeLists.txt
./VTK/ThirdParty/expat/vtkexpat/CMakeLists.txt
./VTK/ThirdParty/libharu/vtklibharu/CMakeLists.txt
./vtkAddon/CMakeLists.txt
./BRAINSTools/CMakeLists.txt
./MultiVolumeExplorer/CMakeLists.txt
./SimpleFilters/CMakeLists.txt
./ITK/Testing/TestExternal/CMakeLists.txt
./ITK/Examples/Installation/CMakeLists.txt
./ITK/Modules/Bridge/NumPy/CMakeLists.txt
./ITK/Modules/Video/BridgeOpenCV/CMakeLists.txt
./ITK/Modules/Numerics/FEM/CMakeLists.txt
./ITK/Modules/ThirdParty/NIFTI/src/nifti/CMakeLists.txt
./ITK/Modules/ThirdParty/VNL/src/vxl/config/cmake/config/vxl_shared_link_test/CMakeLists.txt
./ITK/Modules/ThirdParty/VNL/src/vxl/CMakeLists.txt
./ITK/Modules/ThirdParty/Eigen3/src/itkeigen/CMakeLists.txt
./ITK/Modules/Core/GPUCommon/CMakeLists.txt
./ITK/Modules/Core/GPUFiniteDifference/CMakeLists.txt
./ITK/Modules/Remote/MGHIO/CMakeLists.txt
./ITK/Modules/Remote/AdaptiveDenoising/CMakeLists.txt
./ITK/Modules/Remote/MorphologicalContourInterpolation/examples/CMakeLists.txt
./ITK/Modules/Remote/MorphologicalContourInterpolation/wasm/CMakeLists.txt
./ITK/Modules/Remote/MorphologicalContourInterpolation/CMakeLists.txt
./ITK/Modules/Remote/GrowCut/CMakeLists.txt
./ITK/Modules/Remote/SimpleITKFilters/CMakeLists.txt
./ITK/Modules/Remote/GenericLabelInterpolator/CMakeLists.txt
./ITK/Modules/Remote/IOScanco/CMakeLists.txt
./ITK/Modules/Filtering/GPUAnisotropicSmoothing/CMakeLists.txt
./ITK/Modules/Filtering/GPUImageFilterBase/CMakeLists.txt
./ITK/Modules/Filtering/GPUSmoothing/CMakeLists.txt
./ITK/Wrapping/CMakeLists.txt
./DCMTK/CMakeLists.txt
./LZMA/CMakeLists.txt
./LandmarkRegistration/CMakeLists.txt
./MultiVolumeImporter/CMakeLists.txt
./CTK/CMakeLists.txt
./CTK/Utilities/DGraph/CMakeLists.txt
./LibFFI/CMakeLists.txt
./ITK-build/Modules/Core/Common/CMakeTmp/ITK_PRIVATE_DYNAMIC_CAST/CMakeLists.txt
./CompareVolumes/CMakeLists.txt
./python/CMakeLists.txt
./SimpleITK/Examples/CppCMake/Source/CMakeLists.txt
./SimpleITK/Examples/CMakeLists.txt
./SlicerExecutionModel/CMakeLists.txt
./SlicerExecutionModel/GenerateCLP/Testing/Slicer3Example/CMakeLists.txt
./SlicerExecutionModel/GenerateCLP/Testing/PointExample1/CMakeLists.txt
./SlicerExecutionModel/GenerateCLP/Testing/CLPExample1/CMakeLists.txt
./SlicerExecutionModel/GenerateCLP/Testing/Utf8Example/CMakeLists.txt
./SlicerExecutionModel/GenerateCLP/Testing/CLPTestMultiple/CMakeLists.txt
./SurfaceToolbox/CMakeLists.txt

------------------------------------------------------------------------------
3.2

./BRAINSTools/ARCHIVE/BRAINSTexture/CMakeLists.txt

------------------------------------------------------------------------------
3.3

./SimpleITK-build/SimpleITK-build/CMakeTmp/link_flags/gnu_ld_ignore/MODULE/SHARED/src/CMakeLists.txt
./SimpleITK-build/SimpleITK-build/Wrapping/Python/CMakeTmp/link_flags/gnu_ld_ignore/MODULE/STATIC/src/CMakeLists.txt
./SimpleITK-build/CMakeTmp/link_flags/gnu_ld_ignore/MODULE/SHARED/src/CMakeLists.txt

------------------------------------------------------------------------------
3.4

./VTK/ThirdParty/pugixml/vtkpugixml/CMakeLists.txt
./bzip2/CMakeLists.txt

------------------------------------------------------------------------------
3.5

./ITK/Modules/ThirdParty/ZLIB/src/itkzlib-ng/CMakeLists.txt
./ITK/Modules/ThirdParty/GoogleTest/src/itkgoogletest/CMakeLists.txt
./ITK/Modules/ThirdParty/GoogleTest/src/itkgoogletest/googletest/CMakeLists.txt
./CTK-build/PythonQt/CMakeLists.txt
./qRestAPI/CMakeLists.txt
</code></pre>

---
