---
topic_id: 31084
title: "Probe 3D Model In Slicer"
date: 2023-08-10
url: https://discourse.slicer.org/t/31084
---

# Probe 3D Model in Slicer

**Topic ID**: 31084
**Date**: 2023-08-10
**URL**: https://discourse.slicer.org/t/probe-3d-model-in-slicer/31084

---

## Post #1 by @deringur (2023-08-10 09:00 UTC)

<p>I am currently setting up a probe with the Motive software and OptiTrack camera system, and am transferring the live location data to Slicer via PLUS. Is there way to create a 3D model for the probe to view on Slicer (clarifying probe orientation or rotations)? More specifically, a model for the OptiTrack Probe Kit? Thank you for any help in advance.</p>

---

## Post #2 by @lassoan (2023-08-10 09:03 UTC)

<p>If you have the 3D model of the probe then you can apply the <code>StylusTipToReference</code> (or <code>StylusTipToTracker</code>, etc.) transform to display it.</p>
<p>If you don’t have the model then you can use any generic pointer or needle model. For example, you can use a needle model generated by <code>Create Models</code> module (in SlicerIGT extension).</p>

---

## Post #3 by @muratmaga (2023-08-10 13:01 UTC)

<p><a class="mention" href="/u/lassoan">@lassoan</a> for our application we need the model of the actual probe so that we can get the coordinate of the tip.</p>
<p>We are using the proven probe in this thread</p>
<aside class="quote" data-post="9" data-topic="31045">
  <div class="title">
    <div class="quote-controls"></div>
    <img loading="lazy" alt="" width="24" height="24" src="https://sea2.discourse-cdn.com/flex020/user_avatar/discourse.slicer.org/muratmaga/48/3622_2.png" class="avatar">
    <a href="https://discourse.slicer.org/t/trouble-setting-up-optitrack-duo-with-plus/31045/9">Trouble setting up OptiTrack duo with Plus</a> <a class="badge-category__wrapper " href="/c/support/11"><span data-category-id="11" data-drop-close="true" class="badge-category " title="The Support category is for all usage questions and general discussion of Slicer and extensions."><span class="badge-category__name">Support</span></span></a>
  </div>
  <blockquote>
    Thanks to <a class="mention" href="/u/sunderlandkyl">@Sunderlandkyl</a> we managed to get our camera working. 
We now would like to replace the generic needle model with the actual optitrack probe/stylus model. Is there a repository of 3D models? For reference , this is what we have. 
<a href="https://www.optitrack.com/accessories/measurement-tools/" rel="noopener nofollow ugc">OptiTrack - Measurement Tools</a>
  </blockquote>
</aside>


---

## Post #4 by @muratmaga (2023-08-10 13:53 UTC)

<p>They show it in the motive, so it needs to exist somewhere, but we can’t seem to find it:</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://docs.optitrack.com/motive/measurement-probe-kit-guide">
  <header class="source">
      <img src="https://4243847686-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/collections%2FCkIGcVVIfNcJ8IcasUTb%2Ficon%2FoVkyzZIFBFgMYcbH9Hjr%2FOptiTrack%20Logo%404x.png?alt=media&amp;token=ba232606-1a00-48a9-b52a-8fd692f8ef49" class="site-icon" width="300" height="300">

      <a href="https://docs.optitrack.com/motive/measurement-probe-kit-guide" target="_blank" rel="noopener nofollow ugc">docs.optitrack.com</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/142;"><img src="https://www.gitbook.com/cdn-cgi/image/width=1280,dpr=2,height=640,fit=contain,format=auto/https%3A%2F%2F4243847686-files.gitbook.io%2F~%2Ffiles%2Fv0%2Fb%2Fgitbook-x-prod.appspot.com%2Fo%2Fspaces%252FCkIGcVVIfNcJ8IcasUTb%252Fsocialpreview%252F8gsk4KI4EWwKeTdQt7NS%252FBlack%2520%252B%2520Red.png%3Falt%3Dmedia%26token%3D22831521-5d88-4f6a-b06e-b3a6db25080a" class="thumbnail" width="690" height="142"></div>

<h3><a href="https://docs.optitrack.com/motive/measurement-probe-kit-guide" target="_blank" rel="noopener nofollow ugc">Measurement Probe Kit Guide</a></h3>



  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p><div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/c/2/c247c8ad6132ef2ac94df862a6ddd673c8aeeab2.png" data-download-href="/uploads/short-url/rIGqnPrNlv3xOTZMchZm1xI2QkW.png?dl=1" title="image" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/c/2/c247c8ad6132ef2ac94df862a6ddd673c8aeeab2_2_298x500.png" alt="image" data-base62-sha1="rIGqnPrNlv3xOTZMchZm1xI2QkW" width="298" height="500" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/c/2/c247c8ad6132ef2ac94df862a6ddd673c8aeeab2_2_298x500.png, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/c/2/c247c8ad6132ef2ac94df862a6ddd673c8aeeab2_2_447x750.png 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/c/2/c247c8ad6132ef2ac94df862a6ddd673c8aeeab2_2_596x1000.png 2x" data-dominant-color="2C2D2C"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">660×1106 48.3 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div></p>

---

## Post #5 by @ungi (2023-08-10 20:43 UTC)

<p>OptiTrack is generally supportive towards research groups. If you ask them, they may send you the STL file. But this probe would also not be too hard to model in a CAD software. I use Fusion 360, which is free for universities.</p>

---

## Post #6 by @pieper (2023-08-10 21:02 UTC)

<p><a class="mention" href="/u/muratmaga">@muratmaga</a> I think the point is that with the transform you know the tracker tip, so you don’t need the model to exactly match the probe.</p>

---

## Post #7 by @muratmaga (2023-08-10 21:29 UTC)

<p>I will try to.post a video, but thats not we are seeing. When we affix the stylus end to a foramina and spim the probe around (like a conical.movement), the needle model moving everywhere in 3D</p>

---

## Post #8 by @mikebind (2023-08-11 01:53 UTC)

<p>When I ran into a similar problem this was due to the axis orientation of the needle model. It was something like the long axis of the model was the x-axis while the long axis of the probe (after pivot calibration) was the z-axis.  I suspect you are running into something similar.</p>

---

## Post #9 by @muratmaga (2023-08-11 03:32 UTC)

<p>Thanks Mike. I will check it out.</p>

---

## Post #10 by @deringur (2023-08-11 19:09 UTC)

<p><a class="mention" href="/u/sunderlandkyl">@Sunderlandkyl</a></p>
<p>I am following the tutorial (<a href="https://andysbrainbook.readthedocs.io/en/latest/Slicer/Slicer_Short_Course/Slicer_05_Calibration.html" class="inline-onebox" rel="noopener nofollow ugc">Slicer Tutorial #5: Receiving the Connection and Calibrating the Stylus — Andy's Brain Book 1.0 documentation</a>) and am having trouble understanding why the transforms shown on the tutorial do not show up on my end, although the transform specifications within the configuration file are identical.</p>
<p>Here is the image from the tutorial:<br>
<div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/7/1/713837beb8227866672ddede68fa0c65e58b3989.png" data-download-href="/uploads/short-url/g9AoO9h0Di6Kij9iUIod7zBq8t3.png?dl=1" title="image" rel="noopener nofollow ugc"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/7/1/713837beb8227866672ddede68fa0c65e58b3989_2_690x371.png" alt="image" data-base62-sha1="g9AoO9h0Di6Kij9iUIod7zBq8t3" width="690" height="371" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/7/1/713837beb8227866672ddede68fa0c65e58b3989_2_690x371.png, https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/7/1/713837beb8227866672ddede68fa0c65e58b3989.png 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/7/1/713837beb8227866672ddede68fa0c65e58b3989.png 2x" data-dominant-color="ABACAD"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">703×379 54.5 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div></p>
<p>Here is what I see on my end:<br>
<img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/d/0/d0fbec18ee98e3a9aaca8d4e409bd7a21382887f.png" alt="image" data-base62-sha1="tOL3oDw8T0aLiaq4eNuJ8gSjUqb" width="675" height="217"></p>
<p>I appreciate any support.</p>

---

## Post #11 by @Sunderlandkyl (2023-08-11 19:40 UTC)

<p>For StylusToReference to show up in Slicer, the OptiTrack needs to be able to see both the Stylus and the Reference markers at the same time. Likewise, ReferenceToTracker won’t show up unless the reference marker is visible.</p>

---

## Post #12 by @lassoan (2023-08-11 22:09 UTC)

<aside class="quote no-group" data-username="pieper" data-post="6" data-topic="31084">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://sea2.discourse-cdn.com/flex020/user_avatar/discourse.slicer.org/pieper/48/8_2.png" class="avatar"> pieper:</div>
<blockquote>
<p>I think the point is that with the transform you know the tracker tip, so you don’t need the model to exactly match the probe.</p>
</blockquote>
</aside>
<p>Yes, all you need to verify the pivot and spin calibration result is a generic pointer model.</p>
<p>You don’t want to use a model that looks exactly some specific stylus, because then when you switch to a different stylus or tracker then the model would not match what you see, so you would need to keep getting/creating detailed model for all the pointers that you use.</p>
<p>The only benefit of having a detailed stylus model is that it may look a bit prettier in 3D renderings.</p>

---

## Post #13 by @muratmaga (2023-08-11 22:56 UTC)

<aside class="quote no-group" data-username="lassoan" data-post="12" data-topic="31084">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://sea2.discourse-cdn.com/flex020/user_avatar/discourse.slicer.org/lassoan/48/13_2.png" class="avatar"> lassoan:</div>
<blockquote>
<p>Yes, all you need to verify the pivot and spin calibration result is a generic pointer model.</p>
</blockquote>
</aside>
<p>Thanks all.issues turned out to be related to missing reference transforms…now generic needle movement looks a lot more realistic.</p>

---

## Post #14 by @muratmaga (2023-08-14 16:26 UTC)

<p>Also if anyone needs, optirack shared with us the 3D model of their probe in PLY.</p>

---

## Post #15 by @John_Yang (2025-06-10 20:55 UTC)

<p>hi can you share the stl to my email: yueyang1 [at] stanford [dot] edu? thank you</p>

---
