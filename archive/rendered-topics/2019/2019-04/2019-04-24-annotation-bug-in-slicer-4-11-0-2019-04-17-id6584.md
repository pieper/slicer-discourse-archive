---
topic_id: 6584
title: "Annotation Bug In Slicer 4 11 0 2019 04 17"
date: 2019-04-24
url: https://discourse.slicer.org/t/6584
---

# Annotation bug in Slicer 4.11.0-2019-04-17

**Topic ID**: 6584
**Date**: 2019-04-24
**URL**: https://discourse.slicer.org/t/annotation-bug-in-slicer-4-11-0-2019-04-17/6584

---

## Post #1 by @Hao_Li (2019-04-24 09:26 UTC)

<p>Hi! I think I found a small bug in Slicer 4.11.0-2019-04-17 (And 4.10.1).</p>
<p>In previous saved annotations (position locked rulers, created using version 4.10.1). The locked annotations become “free” when opened (they appear as locked). The annotations need to be freed first and then locked again.</p>
<p>I have created a small video demonstrating the problem.</p>
<p><a href="https://www.dropbox.com/sh/1bkqco8w9ej7d9z/AACynDK0DeFvnBH_-2trBoWIa?dl=0" class="onebox" target="_blank" rel="noopener nofollow ugc">https://www.dropbox.com/sh/1bkqco8w9ej7d9z/AACynDK0DeFvnBH_-2trBoWIa?dl=0</a></p>
<p>Best regards<br>
Hao Li</p>

---

## Post #2 by @jamesobutler (2019-04-24 15:04 UTC)

<p>I can confirm this issue was present in 4.8.1 and 4.10.1 and is also present in the nightly.</p>
<p>Considering the Markups framework has already been changed and incorporated into the nightly, the next set of work should be to update the MarkupsLine (vtkMRMLMarkupsLineNode) to work as a ruler similar to the old annotations based ruler.</p>
<p>Not sure if old saved annotation rulers can be loaded as the new MarkupsLine type to be backwards compatible, but that would be nice to have. Then the old annotation based ruler code can be removed completely from Slicer nightly if the Markups module is intended to completely replace the annotations module. I know Annotation ROI objects would also need to be updated to the new markups type.</p>
<p><a class="mention" href="/u/lassoan">@lassoan</a> Considering you helped with the transition to the new markups framework, do you have a timeline on this work of transitioning the rest of annotations functionality to markups?  Also whether you would want to fix any bugs like this post describes in the annotation module?</p>

---

## Post #3 by @lassoan (2019-04-24 16:07 UTC)

<p>Yes, the plan is to provide all Annotations features in Markups module and then retire annotations. Probably we’ll automatically convert annotation rulers to markup lines on scene load.</p>
<p>This will take a few more months. Currently, I’m adding quantification features to curve’s. After that I can add it to lines, too, so that they can be used instead of annotation rulers.</p>

---
