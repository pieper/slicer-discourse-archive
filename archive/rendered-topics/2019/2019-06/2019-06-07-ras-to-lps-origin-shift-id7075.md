---
topic_id: 7075
title: "Ras To Lps Origin Shift"
date: 2019-06-07
url: https://discourse.slicer.org/t/7075
---

# RAS to LPS origin shift

**Topic ID**: 7075
**Date**: 2019-06-07
**URL**: https://discourse.slicer.org/t/ras-to-lps-origin-shift/7075

---

## Post #1 by @mikebind (2019-06-07 17:01 UTC)

<p>I have a question about coordinates that I am having trouble figuring out the answer to.  The coordinate systems page makes it look like the origin of an image in world space is the center of the first voxel (so that the IJK’s [0,0,0] is also the image world location [0,0,0] in mm. In that case, when converting the world coordinates between RAS and LPS, it seems like the world origin will shift by the RL size of the image minus the RL size of one voxel, and the same for the AP axis, while the SI coordinate of the origin will not change.  Is this correct?  Another alternative convention I think I have seen elsewhere is that the origin is located at the outsize corner of the image volume, in which case an RAS to LPS origin shift would be the full image dimension, with no voxel offset.  I am trying to understand how Slicer handles these things because I am working with images in multiple programs and the coordinate systems and how they are handled do not seem to be the same between them, so I need to understand the details to make sure I handle passing data and transforms between them correctly.  Thanks for any help you can provide.</p>

---

## Post #2 by @pieper (2019-06-07 17:30 UTC)

<p>For Slicer (and DICOM and ITK) the origin is the center of the voxel yes, and it doesn’t move when you choose to describe it in either LPS or RAS coordinates.  In this way, the origin is just a point in space independent of anything to do with the voxels.</p>
<p><a href="https://www.slicer.org/wiki/Coordinate_systems" class="onebox" target="_blank" rel="nofollow noopener">https://www.slicer.org/wiki/Coordinate_systems</a></p>
<p>Unfortunately yes, when you work with transforms generated by different systems you need to pay careful attention to how they define these conventions.  If it’s not clearly documented then a good thing is often to work through simple examples to empirically how the coordinates are defined.</p>

---

## Post #3 by @lassoan (2019-06-07 19:45 UTC)

<p>You can verify coordinates in Slicer by disabling image interpolation, zooming in, enabling slice intersections, and observe reported coordinate values. You can move slice intersections by holding down Shift key while moving the mouse.</p>
<p><div class="lightbox-wrapper"><a class="lightbox" href="https://us1.discourse-cdn.com/flex002/uploads/slicer/original/3X/e/5/e5e70bf5fd1922fcad2470e59e651190fce14fb9.png" data-download-href="/uploads/short-url/wNOm4FdAVZ0yWkxgcQRuOEgO9Ul.png?dl=1" title="image"><img src="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/e/5/e5e70bf5fd1922fcad2470e59e651190fce14fb9_2_658x500.png" alt="image" data-base62-sha1="wNOm4FdAVZ0yWkxgcQRuOEgO9Ul" width="658" height="500" srcset="https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/e/5/e5e70bf5fd1922fcad2470e59e651190fce14fb9_2_658x500.png, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/e/5/e5e70bf5fd1922fcad2470e59e651190fce14fb9_2_987x750.png 1.5x, https://us1.discourse-cdn.com/flex002/uploads/slicer/optimized/3X/e/5/e5e70bf5fd1922fcad2470e59e651190fce14fb9_2_1316x1000.png 2x" data-dominant-color="C2BCBA"><div class="meta"><svg class="fa d-icon d-icon-far-image svg-icon" aria-hidden="true"><use href="#far-image"></use></svg><span class="filename">image</span><span class="informations">1369×1040 118 KB</span><svg class="fa d-icon d-icon-discourse-expand svg-icon" aria-hidden="true"><use href="#discourse-expand"></use></svg></div></a></div></p>

---

## Post #4 by @mikebind (2019-06-07 20:15 UTC)

<p>Thanks Steve.  How does Slicer handle assigning the origin to an imported image, though?  When I load an Analyze file (.hdr, .img) and Slicer reports that the volume has it’s origin at 0,0,0 mm, it is zero mm from where? That’s where I thought the LPS vs RAS coordinate system would make a difference in the origin, where the origin would be a the most right, most anterior, most inferior voxel center for an LPS image and at the most left, most posterior, most inferior voxel center for an RAS image. I realize that DICOM images probably have the origin set independently of the voxels, but I didn’t know if the same were true of Analyze files.</p>

---

## Post #5 by @mikebind (2019-06-07 20:15 UTC)

<p>Thanks Andras, that will be very helpful!</p>

---

## Post #6 by @lassoan (2019-06-08 01:31 UTC)

<aside class="quote no-group" data-username="mikebind" data-post="4" data-topic="7075">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://avatars.discourse-cdn.com/v4/letter/m/71e660/48.png" class="avatar"> mikebind:</div>
<blockquote>
<p>How does Slicer handle assigning the origin to an imported image, though?</p>
</blockquote>
</aside>
<p>It is defined in physical coordinate system. Depending on on the file format, it may be LPS (this is the most common) or some coordinate system as specified in the file header.</p>
<aside class="quote no-group" data-username="mikebind" data-post="4" data-topic="7075">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://avatars.discourse-cdn.com/v4/letter/m/71e660/48.png" class="avatar"> mikebind:</div>
<blockquote>
<p>it is zero mm from where?</p>
</blockquote>
</aside>
<p>It is usually unspecified (up to the operator of the imaging equipment) where exactly the origin is. Axes directions are also usually just approximately aligned to patient anatomical axes.</p>
<p>In DICOM, the frame of reference is tagged by a unique identifier, so you know which images share the same coordinate system and you can define transforms between them.</p>

---
